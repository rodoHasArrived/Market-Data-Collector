<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.1 (20251213.1925)
 -->
<!-- Title: EventPipelineSequence Pages: 1 -->
<svg width="2119pt" height="1055pt"
 viewBox="0.00 0.00 2119.00 1055.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(36 1018.8)">
<title>EventPipelineSequence</title>
<polygon fill="white" stroke="none" points="-36,36 -36,-1018.8 2083.12,-1018.8 2083.12,36 -36,36"/>
<text xml:space="preserve" text-anchor="middle" x="1023.56" y="-968" font-family="Helvetica,sans-Serif" font-size="12.00">Market Data Collector &#45; Event Pipeline Sequence</text>
<text xml:space="preserve" text-anchor="middle" x="1023.56" y="-953.6" font-family="Helvetica,sans-Serif" font-size="12.00">Async Producer&#45;Consumer Pattern | v1.6.1</text>
<g id="clust1" class="cluster">
<title>cluster_source</title>
<path fill="#f0f8ff" stroke="#4a90d9" d="M46.4,-632C46.4,-632 156.68,-632 156.68,-632 162.68,-632 168.68,-638 168.68,-644 168.68,-644 168.68,-812 168.68,-812 168.68,-818 162.68,-824 156.68,-824 156.68,-824 46.4,-824 46.4,-824 40.4,-824 34.4,-818 34.4,-812 34.4,-812 34.4,-644 34.4,-644 34.4,-638 40.4,-632 46.4,-632"/>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-809.2" font-family="Helvetica,sans-Serif" font-size="12.00">1. Data Source</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_client</title>
<path fill="#dbeafe" stroke="#2b6cb0" d="M232.08,-681C232.08,-681 670.8,-681 670.8,-681 676.8,-681 682.8,-687 682.8,-693 682.8,-693 682.8,-775 682.8,-775 682.8,-781 676.8,-787 670.8,-787 670.8,-787 232.08,-787 232.08,-787 226.08,-787 220.08,-781 220.08,-775 220.08,-775 220.08,-693 220.08,-693 220.08,-687 226.08,-681 232.08,-681"/>
<text xml:space="preserve" text-anchor="middle" x="451.44" y="-772.2" font-family="Helvetica,sans-Serif" font-size="12.00">2. Provider Client</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_collectors</title>
<path fill="#d1fae5" stroke="#2c7a7b" d="M546.92,-395C546.92,-395 806.45,-395 806.45,-395 812.45,-395 818.45,-401 818.45,-407 818.45,-407 818.45,-661 818.45,-661 818.45,-667 812.45,-673 806.45,-673 806.45,-673 546.92,-673 546.92,-673 540.92,-673 534.92,-667 534.92,-661 534.92,-661 534.92,-407 534.92,-407 534.92,-401 540.92,-395 546.92,-395"/>
<text xml:space="preserve" text-anchor="middle" x="676.68" y="-658.2" font-family="Helvetica,sans-Serif" font-size="12.00">3. Domain Collectors</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_validation</title>
<path fill="#e6fffa" stroke="#2c7a7b" d="M719.8,-281C719.8,-281 1022.41,-281 1022.41,-281 1028.41,-281 1034.41,-287 1034.41,-293 1034.41,-293 1034.41,-375 1034.41,-375 1034.41,-381 1028.41,-387 1022.41,-387 1022.41,-387 719.8,-387 719.8,-387 713.8,-387 707.8,-381 707.8,-375 707.8,-375 707.8,-293 707.8,-293 707.8,-287 713.8,-281 719.8,-281"/>
<text xml:space="preserve" text-anchor="middle" x="871.11" y="-372.2" font-family="Helvetica,sans-Serif" font-size="12.00">4. F# Validation</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_pipeline</title>
<path fill="#ede9fe" stroke="#805ad5" d="M900.74,-105C900.74,-105 1249.92,-105 1249.92,-105 1255.92,-105 1261.92,-111 1261.92,-117 1261.92,-117 1261.92,-261 1261.92,-261 1261.92,-267 1255.92,-273 1249.92,-273 1249.92,-273 900.74,-273 900.74,-273 894.74,-273 888.74,-267 888.74,-261 888.74,-261 888.74,-117 888.74,-117 888.74,-111 894.74,-105 900.74,-105"/>
<text xml:space="preserve" text-anchor="middle" x="1075.33" y="-258.2" font-family="Helvetica,sans-Serif" font-size="12.00">5. Event Pipeline (System.Threading.Channels)</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_publisher</title>
<path fill="#faf5ff" stroke="#805ad5" d="M1294.92,-185C1294.92,-185 1566.36,-185 1566.36,-185 1572.36,-185 1578.36,-191 1578.36,-197 1578.36,-197 1578.36,-339 1578.36,-339 1578.36,-345 1572.36,-351 1566.36,-351 1566.36,-351 1294.92,-351 1294.92,-351 1288.92,-351 1282.92,-345 1282.92,-339 1282.92,-339 1282.92,-197 1282.92,-197 1282.92,-191 1288.92,-185 1294.92,-185"/>
<text xml:space="preserve" text-anchor="middle" x="1430.64" y="-336.2" font-family="Helvetica,sans-Serif" font-size="12.00">6. Composite Publisher</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_sinks</title>
<polygon fill="#faf5ff" stroke="#6b21a8" stroke-dasharray="5,2" points="1442.21,-193 1442.21,-321 1570.36,-321 1570.36,-193 1442.21,-193"/>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-306.2" font-family="Helvetica,sans-Serif" font-size="12.00">Configured Sinks</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_storage</title>
<path fill="#fee2e2" stroke="#c53030" d="M1620.72,-286C1620.72,-286 2027.12,-286 2027.12,-286 2033.12,-286 2039.12,-292 2039.12,-298 2039.12,-298 2039.12,-368 2039.12,-368 2039.12,-374 2033.12,-380 2027.12,-380 2027.12,-380 1620.72,-380 1620.72,-380 1614.72,-380 1608.72,-374 1608.72,-368 1608.72,-368 1608.72,-298 1608.72,-298 1608.72,-292 1614.72,-286 1620.72,-286"/>
<text xml:space="preserve" text-anchor="middle" x="1823.92" y="-365.2" font-family="Helvetica,sans-Serif" font-size="12.00">7a. Local Storage Path</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_messaging</title>
<polygon fill="#fff5f5" stroke="#e53e3e" stroke-dasharray="5,2" points="1613.44,-184 1613.44,-278 2004.91,-278 2004.91,-184 1613.44,-184"/>
<text xml:space="preserve" text-anchor="middle" x="1809.18" y="-263.2" font-family="Helvetica,sans-Serif" font-size="12.00">7b. Distributed Messaging Path (Optional)</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_monitoring</title>
<path fill="#f0fff4" stroke="#38a169" d="M1446.42,-8C1446.42,-8 1704.31,-8 1704.31,-8 1710.31,-8 1716.31,-14 1716.31,-20 1716.31,-20 1716.31,-164 1716.31,-164 1716.31,-170 1710.31,-176 1704.31,-176 1704.31,-176 1446.42,-176 1446.42,-176 1440.42,-176 1434.42,-170 1434.42,-164 1434.42,-164 1434.42,-20 1434.42,-20 1434.42,-14 1440.42,-8 1446.42,-8"/>
<text xml:space="preserve" text-anchor="middle" x="1575.36" y="-161.2" font-family="Helvetica,sans-Serif" font-size="12.00">8. Observability</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_legend</title>
<path fill="#fafafa" stroke="#666666" d="M20,-832C20,-832 183.07,-832 183.07,-832 189.07,-832 195.07,-838 195.07,-844 195.07,-844 195.07,-926 195.07,-926 195.07,-932 189.07,-938 183.07,-938 183.07,-938 20,-938 20,-938 14,-938 8,-932 8,-926 8,-926 8,-844 8,-844 8,-838 14,-832 20,-832"/>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-923.2" font-family="Helvetica,sans-Serif" font-size="12.00">Legend</text>
</g>
<!-- SOURCE -->
<g id="node1" class="node">
<title>SOURCE</title>
<path fill="#bfdbfe" stroke="black" d="M148.68,-794C148.68,-794 54.4,-794 54.4,-794 48.4,-794 42.4,-788 42.4,-782 42.4,-782 42.4,-738 42.4,-738 42.4,-732 48.4,-726 54.4,-726 54.4,-726 148.68,-726 148.68,-726 154.68,-726 160.68,-732 160.68,-738 160.68,-738 160.68,-782 160.68,-782 160.68,-788 154.68,-794 148.68,-794"/>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-781" font-family="Helvetica,sans-Serif" font-size="10.00">Data Provider</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-769" font-family="Helvetica,sans-Serif" font-size="10.00">(IB/Alpaca/NYSE)</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-745" font-family="Helvetica,sans-Serif" font-size="10.00">WebSocket connection</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-733" font-family="Helvetica,sans-Serif" font-size="10.00">Raw market data</text>
</g>
<!-- CLIENT -->
<g id="node3" class="node">
<title>CLIENT</title>
<path fill="#93c5fd" stroke="black" d="M323.78,-757C323.78,-757 240.08,-757 240.08,-757 234.08,-757 228.08,-751 228.08,-745 228.08,-745 228.08,-701 228.08,-701 228.08,-695 234.08,-689 240.08,-689 240.08,-689 323.78,-689 323.78,-689 329.78,-689 335.78,-695 335.78,-701 335.78,-701 335.78,-745 335.78,-745 335.78,-751 329.78,-757 323.78,-757"/>
<text xml:space="preserve" text-anchor="middle" x="281.93" y="-744" font-family="Helvetica,sans-Serif" font-size="10.00">IMarketDataClient</text>
<text xml:space="preserve" text-anchor="middle" x="281.93" y="-720" font-family="Helvetica,sans-Serif" font-size="10.00">Normalize to domain</text>
<text xml:space="preserve" text-anchor="middle" x="281.93" y="-708" font-family="Helvetica,sans-Serif" font-size="10.00">Validate structure</text>
<text xml:space="preserve" text-anchor="middle" x="281.93" y="-696" font-family="Helvetica,sans-Serif" font-size="10.00">Add metadata</text>
</g>
<!-- SOURCE&#45;&gt;CLIENT -->
<g id="edge1" class="edge">
<title>SOURCE&#45;&gt;CLIENT</title>
<path fill="none" stroke="#4a90d9" stroke-width="2" d="M161.1,-741.5C161.1,-741.5 214.58,-741.5 214.58,-741.5"/>
<polygon fill="#4a90d9" stroke="#4a90d9" stroke-width="2" points="214.58,-745 224.58,-741.5 214.58,-738 214.58,-745"/>
<text xml:space="preserve" text-anchor="middle" x="207.58" y="-748.7" font-family="Helvetica,sans-Serif" font-size="9.00">1</text>
</g>
<!-- RAW_EVENT -->
<g id="node2" class="node">
<title>RAW_EVENT</title>
<polygon fill="#dbeafe" stroke="black" points="145.78,-708 51.29,-708 51.29,-640 151.78,-640 151.78,-702 145.78,-708"/>
<polyline fill="none" stroke="black" points="145.78,-708 145.78,-702"/>
<polyline fill="none" stroke="black" points="151.78,-702 145.78,-702"/>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-695" font-family="Helvetica,sans-Serif" font-size="10.00">Raw Events:</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-683" font-family="Helvetica,sans-Serif" font-size="10.00">• tickPrice</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-671" font-family="Helvetica,sans-Serif" font-size="10.00">• tickSize</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-659" font-family="Helvetica,sans-Serif" font-size="10.00">• updateMktDepth</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-647" font-family="Helvetica,sans-Serif" font-size="10.00">• historicalData</text>
</g>
<!-- RAW_EVENT&#45;&gt;CLIENT -->
<g id="edge2" class="edge">
<title>RAW_EVENT&#45;&gt;CLIENT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M152.27,-698.5C152.27,-698.5 216.29,-698.5 216.29,-698.5"/>
<polygon fill="#4a5568" stroke="#4a5568" points="216.29,-702 226.29,-698.5 216.29,-695 216.29,-702"/>
</g>
<!-- CALLBACK -->
<g id="node4" class="node">
<title>CALLBACK</title>
<path fill="#93c5fd" stroke="black" d="M465.73,-745C465.73,-745 384.78,-745 384.78,-745 378.78,-745 372.78,-739 372.78,-733 372.78,-733 372.78,-701 372.78,-701 372.78,-695 378.78,-689 384.78,-689 384.78,-689 465.73,-689 465.73,-689 471.73,-689 477.73,-695 477.73,-701 477.73,-701 477.73,-733 477.73,-733 477.73,-739 471.73,-745 465.73,-745"/>
<text xml:space="preserve" text-anchor="middle" x="425.26" y="-732" font-family="Helvetica,sans-Serif" font-size="10.00">IBCallbackRouter /</text>
<text xml:space="preserve" text-anchor="middle" x="425.26" y="-720" font-family="Helvetica,sans-Serif" font-size="10.00">WebSocket Handler</text>
<text xml:space="preserve" text-anchor="middle" x="425.26" y="-696" font-family="Helvetica,sans-Serif" font-size="10.00">Route by event type</text>
</g>
<!-- CLIENT&#45;&gt;CALLBACK -->
<g id="edge3" class="edge">
<title>CLIENT&#45;&gt;CALLBACK</title>
<path fill="none" stroke="#2b6cb0" d="M336.12,-717C336.12,-717 360.9,-717 360.9,-717"/>
<polygon fill="#2b6cb0" stroke="#2b6cb0" points="360.9,-720.5 370.9,-717 360.9,-713.5 360.9,-720.5"/>
</g>
<!-- TRANSFORM -->
<g id="node5" class="node">
<title>TRANSFORM</title>
<polygon fill="#bfdbfe" stroke="black" points="668.8,-745 523.74,-745 523.74,-689 674.8,-689 674.8,-739 668.8,-745"/>
<polyline fill="none" stroke="black" points="668.8,-745 668.8,-739"/>
<polyline fill="none" stroke="black" points="674.8,-739 668.8,-739"/>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-732" font-family="Helvetica,sans-Serif" font-size="10.00">Transforms:</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-720" font-family="Helvetica,sans-Serif" font-size="10.00">• Raw → MarketTradeUpdate</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-708" font-family="Helvetica,sans-Serif" font-size="10.00">• Raw → MarketQuoteUpdate</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-696" font-family="Helvetica,sans-Serif" font-size="10.00">• Raw → MarketDepthUpdate</text>
</g>
<!-- CALLBACK&#45;&gt;TRANSFORM -->
<g id="edge4" class="edge">
<title>CALLBACK&#45;&gt;TRANSFORM</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M477.94,-717C477.94,-717 511.82,-717 511.82,-717"/>
<polygon fill="#4a5568" stroke="#4a5568" points="511.82,-720.5 521.82,-717 511.82,-713.5 511.82,-720.5"/>
</g>
<!-- TRADE_COLL -->
<g id="node6" class="node">
<title>TRADE_COLL</title>
<path fill="#6ee7b7" stroke="black" d="M640.3,-471C640.3,-471 558.23,-471 558.23,-471 552.23,-471 546.23,-465 546.23,-459 546.23,-459 546.23,-415 546.23,-415 546.23,-409 552.23,-403 558.23,-403 558.23,-403 640.3,-403 640.3,-403 646.3,-403 652.3,-409 652.3,-415 652.3,-415 652.3,-459 652.3,-459 652.3,-465 646.3,-471 640.3,-471"/>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-458" font-family="Helvetica,sans-Serif" font-size="10.00">TradeDataCollector</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-434" font-family="Helvetica,sans-Serif" font-size="10.00">Sequence validation</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-422" font-family="Helvetica,sans-Serif" font-size="10.00">Aggressor inference</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-410" font-family="Helvetica,sans-Serif" font-size="10.00">Order flow stats</text>
</g>
<!-- CALLBACK&#45;&gt;TRADE_COLL -->
<g id="edge5" class="edge">
<title>CALLBACK&#45;&gt;TRADE_COLL</title>
<path fill="none" stroke="#2c7a7b" stroke-width="2" d="M399.12,-688.61C399.12,-617.43 399.12,-437 399.12,-437 399.12,-437 532.87,-437 532.87,-437"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" stroke-width="2" points="532.87,-440.5 542.87,-437 532.87,-433.5 532.87,-440.5"/>
<text xml:space="preserve" text-anchor="middle" x="500.73" y="-513.7" font-family="Helvetica,sans-Serif" font-size="9.00">2a</text>
</g>
<!-- QUOTE_COLL -->
<g id="node7" class="node">
<title>QUOTE_COLL</title>
<path fill="#6ee7b7" stroke="black" d="M636.41,-643C636.41,-643 562.13,-643 562.13,-643 556.13,-643 550.13,-637 550.13,-631 550.13,-631 550.13,-587 550.13,-587 550.13,-581 556.13,-575 562.13,-575 562.13,-575 636.41,-575 636.41,-575 642.41,-575 648.41,-581 648.41,-587 648.41,-587 648.41,-631 648.41,-631 648.41,-637 642.41,-643 636.41,-643"/>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-630" font-family="Helvetica,sans-Serif" font-size="10.00">QuoteCollector</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-606" font-family="Helvetica,sans-Serif" font-size="10.00">BBO state cache</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-594" font-family="Helvetica,sans-Serif" font-size="10.00">Spread calculation</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-582" font-family="Helvetica,sans-Serif" font-size="10.00">Emit BboQuote</text>
</g>
<!-- CALLBACK&#45;&gt;QUOTE_COLL -->
<g id="edge6" class="edge">
<title>CALLBACK&#45;&gt;QUOTE_COLL</title>
<path fill="none" stroke="#2c7a7b" stroke-width="2" d="M451.12,-688.52C451.12,-656.07 451.12,-607.5 451.12,-607.5 451.12,-607.5 536.91,-607.5 536.91,-607.5"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" stroke-width="2" points="536.91,-611 546.91,-607.5 536.91,-604 536.91,-611"/>
<text xml:space="preserve" text-anchor="middle" x="500.73" y="-656.7" font-family="Helvetica,sans-Serif" font-size="9.00">2b</text>
</g>
<!-- DEPTH_COLL -->
<g id="node8" class="node">
<title>DEPTH_COLL</title>
<path fill="#6ee7b7" stroke="black" d="M643.62,-557C643.62,-557 554.92,-557 554.92,-557 548.92,-557 542.92,-551 542.92,-545 542.92,-545 542.92,-501 542.92,-501 542.92,-495 548.92,-489 554.92,-489 554.92,-489 643.62,-489 643.62,-489 649.62,-489 655.62,-495 655.62,-501 655.62,-501 655.62,-545 655.62,-545 655.62,-551 649.62,-557 643.62,-557"/>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-544" font-family="Helvetica,sans-Serif" font-size="10.00">MarketDepthCollector</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-520" font-family="Helvetica,sans-Serif" font-size="10.00">L2 book state</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-508" font-family="Helvetica,sans-Serif" font-size="10.00">Integrity checking</text>
<text xml:space="preserve" text-anchor="middle" x="599.27" y="-496" font-family="Helvetica,sans-Serif" font-size="10.00">Snapshot generation</text>
</g>
<!-- CALLBACK&#45;&gt;DEPTH_COLL -->
<g id="edge7" class="edge">
<title>CALLBACK&#45;&gt;DEPTH_COLL</title>
<path fill="none" stroke="#2c7a7b" stroke-width="2" d="M425.12,-688.79C425.12,-634.99 425.12,-523 425.12,-523 425.12,-523 529.7,-523 529.7,-523"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" stroke-width="2" points="529.7,-526.5 539.7,-523 529.7,-519.5 529.7,-526.5"/>
<text xml:space="preserve" text-anchor="middle" x="500.73" y="-573.7" font-family="Helvetica,sans-Serif" font-size="9.00">2c</text>
</g>
<!-- DOMAIN_EVENT -->
<g id="node9" class="node">
<title>DOMAIN_EVENT</title>
<polygon fill="#a7f3d0" stroke="black" points="804.45,-557 721.07,-557 721.07,-489 810.45,-489 810.45,-551 804.45,-557"/>
<polyline fill="none" stroke="black" points="804.45,-557 804.45,-551"/>
<polyline fill="none" stroke="black" points="810.45,-551 804.45,-551"/>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-544" font-family="Helvetica,sans-Serif" font-size="10.00">Domain Events:</text>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-532" font-family="Helvetica,sans-Serif" font-size="10.00">• Trade</text>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-520" font-family="Helvetica,sans-Serif" font-size="10.00">• BboQuote</text>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-508" font-family="Helvetica,sans-Serif" font-size="10.00">• LOBSnapshot</text>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-496" font-family="Helvetica,sans-Serif" font-size="10.00">• IntegrityEvent</text>
</g>
<!-- TRADE_COLL&#45;&gt;DOMAIN_EVENT -->
<g id="edge8" class="edge">
<title>TRADE_COLL&#45;&gt;DOMAIN_EVENT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M652.36,-448.33C706.03,-448.33 781.12,-448.33 781.12,-448.33 781.12,-448.33 781.12,-477.21 781.12,-477.21"/>
<polygon fill="#4a5568" stroke="#4a5568" points="777.62,-477.21 781.12,-487.21 784.62,-477.21 777.62,-477.21"/>
</g>
<!-- FSHARP_VAL -->
<g id="node10" class="node">
<title>FSHARP_VAL</title>
<path fill="#81e6d9" stroke="black" d="M803.72,-357C803.72,-357 727.8,-357 727.8,-357 721.8,-357 715.8,-351 715.8,-345 715.8,-345 715.8,-301 715.8,-301 715.8,-295 721.8,-289 727.8,-289 727.8,-289 803.72,-289 803.72,-289 809.72,-289 815.72,-295 815.72,-301 815.72,-301 815.72,-345 815.72,-345 815.72,-351 809.72,-357 803.72,-357"/>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-344" font-family="Helvetica,sans-Serif" font-size="10.00">Railway&#45;Oriented</text>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-332" font-family="Helvetica,sans-Serif" font-size="10.00">Validation</text>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-308" font-family="Helvetica,sans-Serif" font-size="10.00">Type&#45;safe checks</text>
<text xml:space="preserve" text-anchor="middle" x="765.76" y="-296" font-family="Helvetica,sans-Serif" font-size="10.00">Error accumulation</text>
</g>
<!-- TRADE_COLL&#45;&gt;FSHARP_VAL -->
<g id="edge11" class="edge">
<title>TRADE_COLL&#45;&gt;FSHARP_VAL</title>
<path fill="none" stroke="#2c7a7b" d="M652.38,-425.67C696.17,-425.67 751.12,-425.67 751.12,-425.67 751.12,-425.67 751.12,-368.99 751.12,-368.99"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" points="754.62,-368.99 751.12,-358.99 747.62,-368.99 754.62,-368.99"/>
<text xml:space="preserve" text-anchor="middle" x="695.3" y="-348.7" font-family="Helvetica,sans-Serif" font-size="9.00">3</text>
</g>
<!-- QUOTE_COLL&#45;&gt;DOMAIN_EVENT -->
<g id="edge9" class="edge">
<title>QUOTE_COLL&#45;&gt;DOMAIN_EVENT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M648.88,-620.33C698.06,-620.33 766.12,-620.33 766.12,-620.33 766.12,-620.33 766.12,-568.83 766.12,-568.83"/>
<polygon fill="#4a5568" stroke="#4a5568" points="769.62,-568.83 766.12,-558.83 762.62,-568.83 769.62,-568.83"/>
</g>
<!-- QUOTE_COLL&#45;&gt;FSHARP_VAL -->
<g id="edge12" class="edge">
<title>QUOTE_COLL&#45;&gt;FSHARP_VAL</title>
<path fill="none" stroke="#2c7a7b" d="M648.58,-597.67C659.61,-597.67 668.12,-597.67 668.12,-597.67 668.12,-597.67 668.12,-334.33 668.12,-334.33 668.12,-334.33 704,-334.33 704,-334.33"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" points="704,-337.83 714,-334.33 704,-330.83 704,-337.83"/>
</g>
<!-- DEPTH_COLL&#45;&gt;DOMAIN_EVENT -->
<g id="edge10" class="edge">
<title>DEPTH_COLL&#45;&gt;DOMAIN_EVENT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M656.1,-534.33C656.1,-534.33 709.22,-534.33 709.22,-534.33"/>
<polygon fill="#4a5568" stroke="#4a5568" points="709.22,-537.83 719.22,-534.33 709.22,-530.83 709.22,-537.83"/>
</g>
<!-- DEPTH_COLL&#45;&gt;FSHARP_VAL -->
<g id="edge13" class="edge">
<title>DEPTH_COLL&#45;&gt;FSHARP_VAL</title>
<path fill="none" stroke="#2c7a7b" d="M655.87,-511.67C659.73,-511.67 662.12,-511.67 662.12,-511.67 662.12,-511.67 662.12,-311.67 662.12,-311.67 662.12,-311.67 703.95,-311.67 703.95,-311.67"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" points="703.95,-315.17 713.95,-311.67 703.95,-308.17 703.95,-315.17"/>
</g>
<!-- VAL_RULES -->
<g id="node11" class="node">
<title>VAL_RULES</title>
<polygon fill="#b2f5ea" stroke="black" points="1020.41,-357 928.16,-357 928.16,-289 1026.41,-289 1026.41,-351 1020.41,-357"/>
<polyline fill="none" stroke="black" points="1020.41,-357 1020.41,-351"/>
<polyline fill="none" stroke="black" points="1026.41,-351 1020.41,-351"/>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-344" font-family="Helvetica,sans-Serif" font-size="10.00">Validation Rules:</text>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-332" font-family="Helvetica,sans-Serif" font-size="10.00">• Price &gt; 0</text>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-320" font-family="Helvetica,sans-Serif" font-size="10.00">• Size &gt; 0</text>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-308" font-family="Helvetica,sans-Serif" font-size="10.00">• Valid timestamp</text>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-296" font-family="Helvetica,sans-Serif" font-size="10.00">• Symbol format</text>
</g>
<!-- FSHARP_VAL&#45;&gt;VAL_RULES -->
<g id="edge14" class="edge">
<title>FSHARP_VAL&#45;&gt;VAL_RULES</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M816.16,-334.33C816.16,-334.33 916.49,-334.33 916.49,-334.33"/>
<polygon fill="#4a5568" stroke="#4a5568" points="916.49,-337.83 926.49,-334.33 916.49,-330.83 916.49,-337.83"/>
</g>
<!-- CHANNEL -->
<g id="node12" class="node">
<title>CHANNEL</title>
<path fill="#c4b5fd" stroke="black" d="M1045.84,-243C1045.84,-243 908.74,-243 908.74,-243 902.74,-243 896.74,-237 896.74,-231 896.74,-231 896.74,-187 896.74,-187 896.74,-181 902.74,-175 908.74,-175 908.74,-175 1045.84,-175 1045.84,-175 1051.84,-175 1057.84,-181 1057.84,-187 1057.84,-187 1057.84,-231 1057.84,-231 1057.84,-237 1051.84,-243 1045.84,-243"/>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-230" font-family="Helvetica,sans-Serif" font-size="10.00">BoundedChannel&lt;MarketEvent&gt;</text>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-206" font-family="Helvetica,sans-Serif" font-size="10.00">Capacity: 100,000</text>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-194" font-family="Helvetica,sans-Serif" font-size="10.00">DropOldest on full</text>
<text xml:space="preserve" text-anchor="middle" x="977.29" y="-182" font-family="Helvetica,sans-Serif" font-size="10.00">Async write/read</text>
</g>
<!-- FSHARP_VAL&#45;&gt;CHANNEL -->
<g id="edge15" class="edge">
<title>FSHARP_VAL&#45;&gt;CHANNEL</title>
<path fill="none" stroke="#805ad5" stroke-width="2" d="M816.13,-311.67C858.47,-311.67 912.12,-311.67 912.12,-311.67 912.12,-311.67 912.12,-256.5 912.12,-256.5"/>
<polygon fill="#805ad5" stroke="#805ad5" stroke-width="2" points="915.62,-256.5 912.12,-246.5 908.62,-256.5 915.62,-256.5"/>
<text xml:space="preserve" text-anchor="middle" x="856.23" y="-265.5" font-family="Helvetica,sans-Serif" font-size="9.00">4</text>
<text xml:space="preserve" text-anchor="middle" x="856.23" y="-254.7" font-family="Helvetica,sans-Serif" font-size="9.00">async write</text>
</g>
<!-- PIPELINE_READER -->
<g id="node13" class="node">
<title>PIPELINE_READER</title>
<path fill="#c4b5fd" stroke="black" d="M1241.92,-169C1241.92,-169 1149.86,-169 1149.86,-169 1143.86,-169 1137.86,-163 1137.86,-157 1137.86,-157 1137.86,-125 1137.86,-125 1137.86,-119 1143.86,-113 1149.86,-113 1149.86,-113 1241.92,-113 1241.92,-113 1247.92,-113 1253.92,-119 1253.92,-125 1253.92,-125 1253.92,-157 1253.92,-157 1253.92,-163 1247.92,-169 1241.92,-169"/>
<text xml:space="preserve" text-anchor="middle" x="1195.89" y="-156" font-family="Helvetica,sans-Serif" font-size="10.00">Pipeline Reader</text>
<text xml:space="preserve" text-anchor="middle" x="1195.89" y="-132" font-family="Helvetica,sans-Serif" font-size="10.00">Background consumer</text>
<text xml:space="preserve" text-anchor="middle" x="1195.89" y="-120" font-family="Helvetica,sans-Serif" font-size="10.00">Batch processing</text>
</g>
<!-- CHANNEL&#45;&gt;PIPELINE_READER -->
<g id="edge17" class="edge">
<title>CHANNEL&#45;&gt;PIPELINE_READER</title>
<path fill="none" stroke="#805ad5" d="M1058.26,-181C1100.77,-181 1144.12,-181 1144.12,-181 1144.12,-181 1144.12,-179.82 1144.12,-179.82"/>
<polygon fill="#805ad5" stroke="#805ad5" points="1147.62,-180.73 1144.12,-170.73 1140.62,-180.73 1147.62,-180.73"/>
<text xml:space="preserve" text-anchor="middle" x="1097.85" y="-175.5" font-family="Helvetica,sans-Serif" font-size="9.00">5</text>
<text xml:space="preserve" text-anchor="middle" x="1097.85" y="-164.7" font-family="Helvetica,sans-Serif" font-size="9.00">async read</text>
</g>
<!-- CHANNEL_STATS -->
<g id="node14" class="node">
<title>CHANNEL_STATS</title>
<polygon fill="#ddd6fe" stroke="black" points="1236.25,-243 1149.54,-243 1149.54,-187 1242.25,-187 1242.25,-237 1236.25,-243"/>
<polyline fill="none" stroke="black" points="1236.25,-243 1236.25,-237"/>
<polyline fill="none" stroke="black" points="1242.25,-237 1236.25,-237"/>
<text xml:space="preserve" text-anchor="middle" x="1195.89" y="-230" font-family="Helvetica,sans-Serif" font-size="10.00">Metrics:</text>
<text xml:space="preserve" text-anchor="middle" x="1195.89" y="-218" font-family="Helvetica,sans-Serif" font-size="10.00">• Channel depth</text>
<text xml:space="preserve" text-anchor="middle" x="1195.89" y="-206" font-family="Helvetica,sans-Serif" font-size="10.00">• Events/second</text>
<text xml:space="preserve" text-anchor="middle" x="1195.89" y="-194" font-family="Helvetica,sans-Serif" font-size="10.00">• Drop count</text>
</g>
<!-- CHANNEL&#45;&gt;CHANNEL_STATS -->
<g id="edge16" class="edge">
<title>CHANNEL&#45;&gt;CHANNEL_STATS</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M1058.07,-215C1058.07,-215 1137.56,-215 1137.56,-215"/>
<polygon fill="#4a5568" stroke="#4a5568" points="1137.56,-218.5 1147.56,-215 1137.56,-211.5 1137.56,-218.5"/>
</g>
<!-- COMPOSITE -->
<g id="node15" class="node">
<title>COMPOSITE</title>
<path fill="#ddd6fe" stroke="black" d="M1384.4,-249C1384.4,-249 1302.92,-249 1302.92,-249 1296.92,-249 1290.92,-243 1290.92,-237 1290.92,-237 1290.92,-205 1290.92,-205 1290.92,-199 1296.92,-193 1302.92,-193 1302.92,-193 1384.4,-193 1384.4,-193 1390.4,-193 1396.4,-199 1396.4,-205 1396.4,-205 1396.4,-237 1396.4,-237 1396.4,-243 1390.4,-249 1384.4,-249"/>
<text xml:space="preserve" text-anchor="middle" x="1343.66" y="-236" font-family="Helvetica,sans-Serif" font-size="10.00">CompositePublisher</text>
<text xml:space="preserve" text-anchor="middle" x="1343.66" y="-212" font-family="Helvetica,sans-Serif" font-size="10.00">Fanout to sinks</text>
<text xml:space="preserve" text-anchor="middle" x="1343.66" y="-200" font-family="Helvetica,sans-Serif" font-size="10.00">Parallel dispatch</text>
</g>
<!-- PIPELINE_READER&#45;&gt;COMPOSITE -->
<g id="edge18" class="edge">
<title>PIPELINE_READER&#45;&gt;COMPOSITE</title>
<path fill="none" stroke="#805ad5" stroke-width="2" d="M1248.12,-169.23C1248.12,-191.21 1248.12,-218 1248.12,-218 1248.12,-218 1277.56,-218 1277.56,-218"/>
<polygon fill="#805ad5" stroke="#805ad5" stroke-width="2" points="1277.56,-221.5 1287.56,-218 1277.56,-214.5 1277.56,-221.5"/>
</g>
<!-- METRICS -->
<g id="node24" class="node">
<title>METRICS</title>
<path fill="#9ae6b4" stroke="black" d="M1558.15,-72C1558.15,-72 1454.42,-72 1454.42,-72 1448.42,-72 1442.42,-66 1442.42,-60 1442.42,-60 1442.42,-28 1442.42,-28 1442.42,-22 1448.42,-16 1454.42,-16 1454.42,-16 1558.15,-16 1558.15,-16 1564.15,-16 1570.15,-22 1570.15,-28 1570.15,-28 1570.15,-60 1570.15,-60 1570.15,-66 1564.15,-72 1558.15,-72"/>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-59" font-family="Helvetica,sans-Serif" font-size="10.00">Metrics</text>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-35" font-family="Helvetica,sans-Serif" font-size="10.00">mdc_published++</text>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-23" font-family="Helvetica,sans-Serif" font-size="10.00">mdc_events_per_second</text>
</g>
<!-- PIPELINE_READER&#45;&gt;METRICS -->
<g id="edge27" class="edge">
<title>PIPELINE_READER&#45;&gt;METRICS</title>
<path fill="none" stroke="#38a169" stroke-dasharray="5,2" d="M1254.24,-129.5C1328.19,-129.5 1446.12,-129.5 1446.12,-129.5 1446.12,-129.5 1446.12,-83.98 1446.12,-83.98"/>
<polygon fill="#38a169" stroke="#38a169" points="1449.62,-83.98 1446.12,-73.98 1442.62,-83.98 1449.62,-83.98"/>
</g>
<!-- LOCAL_SINK -->
<g id="node16" class="node">
<title>LOCAL_SINK</title>
<path fill="#e9d5ff" stroke="black" d="M1540.92,-291C1540.92,-291 1471.65,-291 1471.65,-291 1465.65,-291 1459.65,-285 1459.65,-279 1459.65,-279 1459.65,-267 1459.65,-267 1459.65,-261 1465.65,-255 1471.65,-255 1471.65,-255 1540.92,-255 1540.92,-255 1546.92,-255 1552.92,-261 1552.92,-267 1552.92,-267 1552.92,-279 1552.92,-279 1552.92,-285 1546.92,-291 1540.92,-291"/>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-276" font-family="Helvetica,sans-Serif" font-size="10.00">PipelinePublisher</text>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-264" font-family="Helvetica,sans-Serif" font-size="10.00">(Local Storage)</text>
</g>
<!-- COMPOSITE&#45;&gt;LOCAL_SINK -->
<g id="edge19" class="edge">
<title>COMPOSITE&#45;&gt;LOCAL_SINK</title>
<path fill="none" stroke="#805ad5" d="M1396.86,-242.5C1444.24,-242.5 1506.12,-242.5 1506.12,-242.5 1506.12,-242.5 1506.12,-243.71 1506.12,-243.71"/>
<polygon fill="#805ad5" stroke="#805ad5" points="1502.62,-243.04 1506.12,-253.04 1509.62,-243.04 1502.62,-243.04"/>
<text xml:space="preserve" text-anchor="middle" x="1419.41" y="-266.7" font-family="Helvetica,sans-Serif" font-size="9.00">6a</text>
</g>
<!-- MT_SINK -->
<g id="node17" class="node">
<title>MT_SINK</title>
<path fill="#e9d5ff" stroke="black" d="M1550.36,-237C1550.36,-237 1462.21,-237 1462.21,-237 1456.21,-237 1450.21,-231 1450.21,-225 1450.21,-225 1450.21,-213 1450.21,-213 1450.21,-207 1456.21,-201 1462.21,-201 1462.21,-201 1550.36,-201 1550.36,-201 1556.36,-201 1562.36,-207 1562.36,-213 1562.36,-213 1562.36,-225 1562.36,-225 1562.36,-231 1556.36,-237 1550.36,-237"/>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-222" font-family="Helvetica,sans-Serif" font-size="10.00">MassTransitPublisher</text>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-210" font-family="Helvetica,sans-Serif" font-size="10.00">(Message Bus)</text>
</g>
<!-- COMPOSITE&#45;&gt;MT_SINK -->
<g id="edge20" class="edge">
<title>COMPOSITE&#45;&gt;MT_SINK</title>
<path fill="none" stroke="#805ad5" stroke-dasharray="5,2" d="M1396.46,-219C1396.46,-219 1438.31,-219 1438.31,-219"/>
<polygon fill="#805ad5" stroke="#805ad5" points="1438.31,-222.5 1448.31,-219 1438.31,-215.5 1438.31,-222.5"/>
<text xml:space="preserve" text-anchor="middle" x="1419.41" y="-222.7" font-family="Helvetica,sans-Serif" font-size="9.00">6b</text>
</g>
<!-- TRACES -->
<g id="node25" class="node">
<title>TRACES</title>
<path fill="#9ae6b4" stroke="black" d="M1543.69,-146C1543.69,-146 1468.88,-146 1468.88,-146 1462.88,-146 1456.88,-140 1456.88,-134 1456.88,-134 1456.88,-102 1456.88,-102 1456.88,-96 1462.88,-90 1468.88,-90 1468.88,-90 1543.69,-90 1543.69,-90 1549.69,-90 1555.69,-96 1555.69,-102 1555.69,-102 1555.69,-134 1555.69,-134 1555.69,-140 1549.69,-146 1543.69,-146"/>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-133" font-family="Helvetica,sans-Serif" font-size="10.00">OpenTelemetry</text>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-109" font-family="Helvetica,sans-Serif" font-size="10.00">Span per event</text>
<text xml:space="preserve" text-anchor="middle" x="1506.28" y="-97" font-family="Helvetica,sans-Serif" font-size="10.00">Distributed context</text>
</g>
<!-- COMPOSITE&#45;&gt;TRACES -->
<g id="edge28" class="edge">
<title>COMPOSITE&#45;&gt;TRACES</title>
<path fill="none" stroke="#38a169" stroke-dasharray="5,2" d="M1396.86,-197C1444.24,-197 1506.12,-197 1506.12,-197 1506.12,-197 1506.12,-157.59 1506.12,-157.59"/>
<polygon fill="#38a169" stroke="#38a169" points="1509.62,-157.59 1506.12,-147.59 1502.62,-157.59 1509.62,-157.59"/>
</g>
<!-- WAL -->
<g id="node18" class="node">
<title>WAL</title>
<path fill="#fc8181" stroke="black" d="M1695.76,-350C1695.76,-350 1628.72,-350 1628.72,-350 1622.72,-350 1616.72,-344 1616.72,-338 1616.72,-338 1616.72,-306 1616.72,-306 1616.72,-300 1622.72,-294 1628.72,-294 1628.72,-294 1695.76,-294 1695.76,-294 1701.76,-294 1707.76,-300 1707.76,-306 1707.76,-306 1707.76,-338 1707.76,-338 1707.76,-344 1701.76,-350 1695.76,-350"/>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-337" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Write&#45;Ahead Log</text>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-313" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Journal first</text>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-301" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Crash&#45;safe</text>
</g>
<!-- LOCAL_SINK&#45;&gt;WAL -->
<g id="edge21" class="edge">
<title>LOCAL_SINK&#45;&gt;WAL</title>
<path fill="none" stroke="#c53030" stroke-width="2" d="M1553.04,-273C1598.94,-273 1662.12,-273 1662.12,-273 1662.12,-273 1662.12,-280.75 1662.12,-280.75"/>
<polygon fill="#c53030" stroke="#c53030" stroke-width="2" points="1658.62,-280.75 1662.12,-290.75 1665.62,-280.75 1658.62,-280.75"/>
<text xml:space="preserve" text-anchor="middle" x="1593.16" y="-299.7" font-family="Helvetica,sans-Serif" font-size="9.00">7a</text>
</g>
<!-- MASSTRANSIT -->
<g id="node21" class="node">
<title>MASSTRANSIT</title>
<path fill="#fc8181" stroke="black" d="M1691.03,-248C1691.03,-248 1633.44,-248 1633.44,-248 1627.44,-248 1621.44,-242 1621.44,-236 1621.44,-236 1621.44,-204 1621.44,-204 1621.44,-198 1627.44,-192 1633.44,-192 1633.44,-192 1691.03,-192 1691.03,-192 1697.03,-192 1703.03,-198 1703.03,-204 1703.03,-204 1703.03,-236 1703.03,-236 1703.03,-242 1697.03,-248 1691.03,-248"/>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-235" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">MassTransit</text>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-211" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Serialize event</text>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-199" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Publish to bus</text>
</g>
<!-- MT_SINK&#45;&gt;MASSTRANSIT -->
<g id="edge24" class="edge">
<title>MT_SINK&#45;&gt;MASSTRANSIT</title>
<path fill="none" stroke="#e53e3e" stroke-dasharray="5,2" d="M1562.59,-219C1562.59,-219 1609.67,-219 1609.67,-219"/>
<polygon fill="#e53e3e" stroke="#e53e3e" points="1609.67,-222.5 1619.67,-219 1609.67,-215.5 1609.67,-222.5"/>
<text xml:space="preserve" text-anchor="middle" x="1593.16" y="-221.7" font-family="Helvetica,sans-Serif" font-size="9.00">7b</text>
</g>
<!-- JSONL -->
<g id="node19" class="node">
<title>JSONL</title>
<path fill="#fecaca" stroke="black" d="M1826.3,-350C1826.3,-350 1772.58,-350 1772.58,-350 1766.58,-350 1760.58,-344 1760.58,-338 1760.58,-338 1760.58,-306 1760.58,-306 1760.58,-300 1766.58,-294 1772.58,-294 1772.58,-294 1826.3,-294 1826.3,-294 1832.3,-294 1838.3,-300 1838.3,-306 1838.3,-306 1838.3,-338 1838.3,-338 1838.3,-344 1832.3,-350 1826.3,-350"/>
<text xml:space="preserve" text-anchor="middle" x="1799.44" y="-337" font-family="Helvetica,sans-Serif" font-size="10.00">JSONL Sink</text>
<text xml:space="preserve" text-anchor="middle" x="1799.44" y="-313" font-family="Helvetica,sans-Serif" font-size="10.00">Append event</text>
<text xml:space="preserve" text-anchor="middle" x="1799.44" y="-301" font-family="Helvetica,sans-Serif" font-size="10.00">Flush buffer</text>
</g>
<!-- WAL&#45;&gt;JSONL -->
<g id="edge22" class="edge">
<title>WAL&#45;&gt;JSONL</title>
<path fill="none" stroke="#c53030" stroke-width="2" d="M1707.92,-322C1707.92,-322 1747.35,-322 1747.35,-322"/>
<polygon fill="#c53030" stroke="#c53030" stroke-width="2" points="1747.35,-325.5 1757.35,-322 1747.35,-318.5 1747.35,-325.5"/>
</g>
<!-- STORAGE_RESULT -->
<g id="node20" class="node">
<title>STORAGE_RESULT</title>
<polygon fill="#feb2b2" stroke="black" points="2025.12,-344 1890.58,-344 1890.58,-300 2031.12,-300 2031.12,-338 2025.12,-344"/>
<polyline fill="none" stroke="black" points="2025.12,-344 2025.12,-338"/>
<polyline fill="none" stroke="black" points="2031.12,-338 2025.12,-338"/>
<text xml:space="preserve" text-anchor="middle" x="1960.85" y="-331" font-family="Helvetica,sans-Serif" font-size="10.00">Output:</text>
<text xml:space="preserve" text-anchor="middle" x="1960.85" y="-319" font-family="Helvetica,sans-Serif" font-size="10.00">{symbol}_{type}_{date}.jsonl</text>
<text xml:space="preserve" text-anchor="middle" x="1960.85" y="-307" font-family="Helvetica,sans-Serif" font-size="10.00">(optionally compressed)</text>
</g>
<!-- JSONL&#45;&gt;STORAGE_RESULT -->
<g id="edge23" class="edge">
<title>JSONL&#45;&gt;STORAGE_RESULT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M1838.51,-322C1838.51,-322 1878.78,-322 1878.78,-322"/>
<polygon fill="#4a5568" stroke="#4a5568" points="1878.78,-325.5 1888.78,-322 1878.78,-318.5 1878.78,-325.5"/>
</g>
<!-- EXCHANGE -->
<g id="node22" class="node">
<title>EXCHANGE</title>
<path fill="#fecaca" stroke="black" d="M1841.58,-242C1841.58,-242 1757.31,-242 1757.31,-242 1751.31,-242 1745.31,-236 1745.31,-230 1745.31,-230 1745.31,-210 1745.31,-210 1745.31,-204 1751.31,-198 1757.31,-198 1757.31,-198 1841.58,-198 1841.58,-198 1847.58,-198 1853.58,-204 1853.58,-210 1853.58,-210 1853.58,-230 1853.58,-230 1853.58,-236 1847.58,-242 1841.58,-242"/>
<text xml:space="preserve" text-anchor="middle" x="1799.44" y="-229" font-family="Helvetica,sans-Serif" font-size="10.00">RabbitMQ Exchange</text>
<text xml:space="preserve" text-anchor="middle" x="1799.44" y="-205" font-family="Helvetica,sans-Serif" font-size="10.00">Fanout to queues</text>
</g>
<!-- MASSTRANSIT&#45;&gt;EXCHANGE -->
<g id="edge25" class="edge">
<title>MASSTRANSIT&#45;&gt;EXCHANGE</title>
<path fill="none" stroke="#e53e3e" stroke-dasharray="5,2" d="M1703.4,-220C1703.4,-220 1733.33,-220 1733.33,-220"/>
<polygon fill="#e53e3e" stroke="#e53e3e" points="1733.33,-223.5 1743.33,-220 1733.33,-216.5 1733.33,-223.5"/>
</g>
<!-- CONSUMERS -->
<g id="node23" class="node">
<title>CONSUMERS</title>
<path fill="#fecaca" stroke="black" d="M1984.91,-248C1984.91,-248 1936.79,-248 1936.79,-248 1930.79,-248 1924.79,-242 1924.79,-236 1924.79,-236 1924.79,-204 1924.79,-204 1924.79,-198 1930.79,-192 1936.79,-192 1936.79,-192 1984.91,-192 1984.91,-192 1990.91,-192 1996.91,-198 1996.91,-204 1996.91,-204 1996.91,-236 1996.91,-236 1996.91,-242 1990.91,-248 1984.91,-248"/>
<text xml:space="preserve" text-anchor="middle" x="1960.85" y="-235" font-family="Helvetica,sans-Serif" font-size="10.00">Microservice</text>
<text xml:space="preserve" text-anchor="middle" x="1960.85" y="-223" font-family="Helvetica,sans-Serif" font-size="10.00">Consumers</text>
<text xml:space="preserve" text-anchor="middle" x="1960.85" y="-199" font-family="Helvetica,sans-Serif" font-size="10.00">:5001&#45;:5005</text>
</g>
<!-- EXCHANGE&#45;&gt;CONSUMERS -->
<g id="edge26" class="edge">
<title>EXCHANGE&#45;&gt;CONSUMERS</title>
<path fill="none" stroke="#e53e3e" stroke-dasharray="5,2" d="M1853.64,-220C1853.64,-220 1912.82,-220 1912.82,-220"/>
<polygon fill="#e53e3e" stroke="#e53e3e" points="1912.82,-223.5 1922.82,-220 1912.82,-216.5 1912.82,-223.5"/>
</g>
<!-- STATUS -->
<g id="node26" class="node">
<title>STATUS</title>
<path fill="#9ae6b4" stroke="black" d="M1696.31,-72C1696.31,-72 1628.16,-72 1628.16,-72 1622.16,-72 1616.16,-66 1616.16,-60 1616.16,-60 1616.16,-28 1616.16,-28 1616.16,-22 1622.16,-16 1628.16,-16 1628.16,-16 1696.31,-16 1696.31,-16 1702.31,-16 1708.31,-22 1708.31,-28 1708.31,-28 1708.31,-60 1708.31,-60 1708.31,-66 1702.31,-72 1696.31,-72"/>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-59" font-family="Helvetica,sans-Serif" font-size="10.00">StatusHttpServer</text>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-35" font-family="Helvetica,sans-Serif" font-size="10.00">/metrics, /status</text>
<text xml:space="preserve" text-anchor="middle" x="1662.24" y="-23" font-family="Helvetica,sans-Serif" font-size="10.00">/health</text>
</g>
<!-- METRICS&#45;&gt;STATUS -->
<g id="edge29" class="edge">
<title>METRICS&#45;&gt;STATUS</title>
<path fill="none" stroke="#38a169" stroke-dasharray="5,2" d="M1570.62,-44C1570.62,-44 1604.16,-44 1604.16,-44"/>
<polygon fill="#38a169" stroke="#38a169" points="1604.16,-47.5 1614.16,-44 1604.16,-40.5 1604.16,-47.5"/>
</g>
<!-- LEG -->
<g id="node27" class="node">
<title>LEG</title>
<path fill="lightgrey" stroke="none" d="M175.07,-908C175.07,-908 28,-908 28,-908 22,-908 16,-902 16,-896 16,-896 16,-852 16,-852 16,-846 22,-840 28,-840 28,-840 175.07,-840 175.07,-840 181.07,-840 187.07,-846 187.07,-852 187.07,-852 187.07,-896 187.07,-896 187.07,-902 181.07,-908 175.07,-908"/>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-895" font-family="Helvetica,sans-Serif" font-size="10.00">━━ Synchronous flow</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-883" font-family="Helvetica,sans-Serif" font-size="10.00">─ ─ Async/Optional flow</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-871" font-family="Helvetica,sans-Serif" font-size="10.00">→ Data transformation point</text>
<text xml:space="preserve" text-anchor="middle" x="101.54" y="-847" font-family="Helvetica,sans-Serif" font-size="10.00">Numbers indicate processing order</text>
</g>
</g>
</svg>
