<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: EventPipelineSequence Pages: 1 -->
<svg width="2286pt" height="1010pt"
 viewBox="0.00 0.00 2286.00 1010.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(36 974)">
<title>EventPipelineSequence</title>
<polygon fill="white" stroke="transparent" points="-36,36 -36,-974 2250,-974 2250,36 -36,36"/>
<text text-anchor="middle" x="1107" y="-924.4" font-family="Helvetica,sans-Serif" font-size="12.00">Market Data Collector &#45; Event Pipeline Sequence</text>
<text text-anchor="middle" x="1107" y="-911.4" font-family="Helvetica,sans-Serif" font-size="12.00">Async Producer&#45;Consumer Pattern | v1.6.1</text>
<g id="clust1" class="cluster">
<title>cluster_source</title>
<path fill="#f0f8ff" stroke="#4a90d9" d="M50.5,-604C50.5,-604 168.5,-604 168.5,-604 174.5,-604 180.5,-610 180.5,-616 180.5,-616 180.5,-775 180.5,-775 180.5,-781 174.5,-787 168.5,-787 168.5,-787 50.5,-787 50.5,-787 44.5,-787 38.5,-781 38.5,-775 38.5,-775 38.5,-616 38.5,-616 38.5,-610 44.5,-604 50.5,-604"/>
<text text-anchor="middle" x="109.5" y="-773.4" font-family="Helvetica,sans-Serif" font-size="12.00">1. Data Source</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_client</title>
<path fill="#dbeafe" stroke="#2b6cb0" d="M250,-651C250,-651 722,-651 722,-651 728,-651 734,-657 734,-663 734,-663 734,-740 734,-740 734,-746 728,-752 722,-752 722,-752 250,-752 250,-752 244,-752 238,-746 238,-740 238,-740 238,-663 238,-663 238,-657 244,-651 250,-651"/>
<text text-anchor="middle" x="486" y="-738.4" font-family="Helvetica,sans-Serif" font-size="12.00">2. Provider Client</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_collectors</title>
<path fill="#d1fae5" stroke="#2c7a7b" d="M589,-378C589,-378 867,-378 867,-378 873,-378 879,-384 879,-390 879,-390 879,-631 879,-631 879,-637 873,-643 867,-643 867,-643 589,-643 589,-643 583,-643 577,-637 577,-631 577,-631 577,-390 577,-390 577,-384 583,-378 589,-378"/>
<text text-anchor="middle" x="728" y="-629.4" font-family="Helvetica,sans-Serif" font-size="12.00">3. Domain Collectors</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_validation</title>
<path fill="#e6fffa" stroke="#2c7a7b" d="M773,-269C773,-269 1103.5,-269 1103.5,-269 1109.5,-269 1115.5,-275 1115.5,-281 1115.5,-281 1115.5,-358 1115.5,-358 1115.5,-364 1109.5,-370 1103.5,-370 1103.5,-370 773,-370 773,-370 767,-370 761,-364 761,-358 761,-358 761,-281 761,-281 761,-275 767,-269 773,-269"/>
<text text-anchor="middle" x="938.25" y="-356.4" font-family="Helvetica,sans-Serif" font-size="12.00">4. F# Validation</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_pipeline</title>
<path fill="#ede9fe" stroke="#805ad5" d="M970,-100C970,-100 1350,-100 1350,-100 1356,-100 1362,-106 1362,-112 1362,-112 1362,-249 1362,-249 1362,-255 1356,-261 1350,-261 1350,-261 970,-261 970,-261 964,-261 958,-255 958,-249 958,-249 958,-112 958,-112 958,-106 964,-100 970,-100"/>
<text text-anchor="middle" x="1160" y="-247.4" font-family="Helvetica,sans-Serif" font-size="12.00">5. Event Pipeline (System.Threading.Channels)</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_publisher</title>
<path fill="#faf5ff" stroke="#805ad5" d="M1395,-178C1395,-178 1686,-178 1686,-178 1692,-178 1698,-184 1698,-190 1698,-190 1698,-330 1698,-330 1698,-336 1692,-342 1686,-342 1686,-342 1395,-342 1395,-342 1389,-342 1383,-336 1383,-330 1383,-330 1383,-190 1383,-190 1383,-184 1389,-178 1395,-178"/>
<text text-anchor="middle" x="1540.5" y="-328.4" font-family="Helvetica,sans-Serif" font-size="12.00">6. Composite Publisher</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_sinks</title>
<polygon fill="#faf5ff" stroke="#6b21a8" stroke-dasharray="5,2" points="1555,-186 1555,-313 1690,-313 1690,-186 1555,-186"/>
<text text-anchor="middle" x="1622.5" y="-299.4" font-family="Helvetica,sans-Serif" font-size="12.00">Configured Sinks</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_storage</title>
<path fill="#fee2e2" stroke="#c53030" d="M1745,-277C1745,-277 2194,-277 2194,-277 2200,-277 2206,-283 2206,-289 2206,-289 2206,-356 2206,-356 2206,-362 2200,-368 2194,-368 2194,-368 1745,-368 1745,-368 1739,-368 1733,-362 1733,-356 1733,-356 1733,-289 1733,-289 1733,-283 1739,-277 1745,-277"/>
<text text-anchor="middle" x="1969.5" y="-354.4" font-family="Helvetica,sans-Serif" font-size="12.00">7a. Local Storage Path</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_messaging</title>
<polygon fill="#fff5f5" stroke="#e53e3e" stroke-dasharray="5,2" points="1737.5,-178 1737.5,-269 2161,-269 2161,-178 1737.5,-178"/>
<text text-anchor="middle" x="1949.25" y="-255.4" font-family="Helvetica,sans-Serif" font-size="12.00">7b. Distributed Messaging Path (Optional)</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_monitoring</title>
<path fill="#f0fff4" stroke="#38a169" d="M1558,-8C1558,-8 1836,-8 1836,-8 1842,-8 1848,-14 1848,-20 1848,-20 1848,-158 1848,-158 1848,-164 1842,-170 1836,-170 1836,-170 1558,-170 1558,-170 1552,-170 1546,-164 1546,-158 1546,-158 1546,-20 1546,-20 1546,-14 1552,-8 1558,-8"/>
<text text-anchor="middle" x="1697" y="-156.4" font-family="Helvetica,sans-Serif" font-size="12.00">8. Observability</text>
</g>
<g id="clust11" class="cluster">
<title>cluster_legend</title>
<path fill="#fafafa" stroke="#666666" d="M20,-795C20,-795 199,-795 199,-795 205,-795 211,-801 211,-807 211,-807 211,-884 211,-884 211,-890 205,-896 199,-896 199,-896 20,-896 20,-896 14,-896 8,-890 8,-884 8,-884 8,-807 8,-807 8,-801 14,-795 20,-795"/>
<text text-anchor="middle" x="109.5" y="-882.4" font-family="Helvetica,sans-Serif" font-size="12.00">Legend</text>
</g>
<!-- SOURCE -->
<g id="node1" class="node">
<title>SOURCE</title>
<path fill="#bfdbfe" stroke="black" d="M160.5,-758C160.5,-758 58.5,-758 58.5,-758 52.5,-758 46.5,-752 46.5,-746 46.5,-746 46.5,-706 46.5,-706 46.5,-700 52.5,-694 58.5,-694 58.5,-694 160.5,-694 160.5,-694 166.5,-694 172.5,-700 172.5,-706 172.5,-706 172.5,-746 172.5,-746 172.5,-752 166.5,-758 160.5,-758"/>
<text text-anchor="middle" x="109.5" y="-746" font-family="Helvetica,sans-Serif" font-size="10.00">Data Provider</text>
<text text-anchor="middle" x="109.5" y="-735" font-family="Helvetica,sans-Serif" font-size="10.00">(IB/Alpaca/NYSE)</text>
<text text-anchor="middle" x="109.5" y="-712" font-family="Helvetica,sans-Serif" font-size="10.00">WebSocket connection</text>
<text text-anchor="middle" x="109.5" y="-701" font-family="Helvetica,sans-Serif" font-size="10.00">Raw market data</text>
</g>
<!-- CLIENT -->
<g id="node3" class="node">
<title>CLIENT</title>
<path fill="#93c5fd" stroke="black" d="M353,-723C353,-723 258,-723 258,-723 252,-723 246,-717 246,-711 246,-711 246,-671 246,-671 246,-665 252,-659 258,-659 258,-659 353,-659 353,-659 359,-659 365,-665 365,-671 365,-671 365,-711 365,-711 365,-717 359,-723 353,-723"/>
<text text-anchor="middle" x="305.5" y="-711" font-family="Helvetica,sans-Serif" font-size="10.00">IMarketDataClient</text>
<text text-anchor="middle" x="305.5" y="-688" font-family="Helvetica,sans-Serif" font-size="10.00">Normalize to domain</text>
<text text-anchor="middle" x="305.5" y="-677" font-family="Helvetica,sans-Serif" font-size="10.00">Validate structure</text>
<text text-anchor="middle" x="305.5" y="-666" font-family="Helvetica,sans-Serif" font-size="10.00">Add metadata</text>
</g>
<!-- SOURCE&#45;&gt;CLIENT -->
<g id="edge1" class="edge">
<title>SOURCE&#45;&gt;CLIENT</title>
<path fill="none" stroke="#4a90d9" stroke-width="2" d="M172.59,-708.5C172.59,-708.5 235.86,-708.5 235.86,-708.5"/>
<polygon fill="#4a90d9" stroke="#4a90d9" stroke-width="2" points="235.86,-712 245.86,-708.5 235.86,-705 235.86,-712"/>
<text text-anchor="middle" x="224.5" y="-715.8" font-family="Helvetica,sans-Serif" font-size="9.00">1</text>
</g>
<!-- RAW_EVENT -->
<g id="node2" class="node">
<title>RAW_EVENT</title>
<polygon fill="#dbeafe" stroke="black" points="157,-675.5 56,-675.5 56,-612.5 163,-612.5 163,-669.5 157,-675.5"/>
<polyline fill="none" stroke="black" points="157,-675.5 157,-669.5 "/>
<polyline fill="none" stroke="black" points="163,-669.5 157,-669.5 "/>
<text text-anchor="middle" x="109.5" y="-663.5" font-family="Helvetica,sans-Serif" font-size="10.00">Raw Events:</text>
<text text-anchor="middle" x="109.5" y="-652.5" font-family="Helvetica,sans-Serif" font-size="10.00">• tickPrice</text>
<text text-anchor="middle" x="109.5" y="-641.5" font-family="Helvetica,sans-Serif" font-size="10.00">• tickSize</text>
<text text-anchor="middle" x="109.5" y="-630.5" font-family="Helvetica,sans-Serif" font-size="10.00">• updateMktDepth</text>
<text text-anchor="middle" x="109.5" y="-619.5" font-family="Helvetica,sans-Serif" font-size="10.00">• historicalData</text>
</g>
<!-- RAW_EVENT&#45;&gt;CLIENT -->
<g id="edge2" class="edge">
<title>RAW_EVENT&#45;&gt;CLIENT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M163.06,-667.25C163.06,-667.25 235.8,-667.25 235.8,-667.25"/>
<polygon fill="#4a5568" stroke="#4a5568" points="235.8,-670.75 245.8,-667.25 235.8,-663.75 235.8,-670.75"/>
</g>
<!-- CALLBACK -->
<g id="node4" class="node">
<title>CALLBACK</title>
<path fill="#93c5fd" stroke="black" d="M506,-712.5C506,-712.5 414,-712.5 414,-712.5 408,-712.5 402,-706.5 402,-700.5 402,-700.5 402,-671.5 402,-671.5 402,-665.5 408,-659.5 414,-659.5 414,-659.5 506,-659.5 506,-659.5 512,-659.5 518,-665.5 518,-671.5 518,-671.5 518,-700.5 518,-700.5 518,-706.5 512,-712.5 506,-712.5"/>
<text text-anchor="middle" x="460" y="-700.5" font-family="Helvetica,sans-Serif" font-size="10.00">IBCallbackRouter /</text>
<text text-anchor="middle" x="460" y="-689.5" font-family="Helvetica,sans-Serif" font-size="10.00">WebSocket Handler</text>
<text text-anchor="middle" x="460" y="-666.5" font-family="Helvetica,sans-Serif" font-size="10.00">Route by event type</text>
</g>
<!-- CLIENT&#45;&gt;CALLBACK -->
<g id="edge3" class="edge">
<title>CLIENT&#45;&gt;CALLBACK</title>
<path fill="none" stroke="#2b6cb0" d="M365.23,-686C365.23,-686 391.95,-686 391.95,-686"/>
<polygon fill="#2b6cb0" stroke="#2b6cb0" points="391.95,-689.5 401.95,-686 391.95,-682.5 391.95,-689.5"/>
</g>
<!-- TRANSFORM -->
<g id="node5" class="node">
<title>TRANSFORM</title>
<polygon fill="#bfdbfe" stroke="black" points="720,-712 567,-712 567,-660 726,-660 726,-706 720,-712"/>
<polyline fill="none" stroke="black" points="720,-712 720,-706 "/>
<polyline fill="none" stroke="black" points="726,-706 720,-706 "/>
<text text-anchor="middle" x="646.5" y="-700" font-family="Helvetica,sans-Serif" font-size="10.00">Transforms:</text>
<text text-anchor="middle" x="646.5" y="-689" font-family="Helvetica,sans-Serif" font-size="10.00">• Raw → MarketTradeUpdate</text>
<text text-anchor="middle" x="646.5" y="-678" font-family="Helvetica,sans-Serif" font-size="10.00">• Raw → MarketQuoteUpdate</text>
<text text-anchor="middle" x="646.5" y="-667" font-family="Helvetica,sans-Serif" font-size="10.00">• Raw → MarketDepthUpdate</text>
</g>
<!-- CALLBACK&#45;&gt;TRANSFORM -->
<g id="edge4" class="edge">
<title>CALLBACK&#45;&gt;TRANSFORM</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M518.24,-686C518.24,-686 556.82,-686 556.82,-686"/>
<polygon fill="#4a5568" stroke="#4a5568" points="556.82,-689.5 566.82,-686 556.82,-682.5 556.82,-689.5"/>
</g>
<!-- TRADE_COLL -->
<g id="node6" class="node">
<title>TRADE_COLL</title>
<path fill="#6ee7b7" stroke="black" d="M692.5,-450C692.5,-450 600.5,-450 600.5,-450 594.5,-450 588.5,-444 588.5,-438 588.5,-438 588.5,-398 588.5,-398 588.5,-392 594.5,-386 600.5,-386 600.5,-386 692.5,-386 692.5,-386 698.5,-386 704.5,-392 704.5,-398 704.5,-398 704.5,-438 704.5,-438 704.5,-444 698.5,-450 692.5,-450"/>
<text text-anchor="middle" x="646.5" y="-438" font-family="Helvetica,sans-Serif" font-size="10.00">TradeDataCollector</text>
<text text-anchor="middle" x="646.5" y="-415" font-family="Helvetica,sans-Serif" font-size="10.00">Sequence validation</text>
<text text-anchor="middle" x="646.5" y="-404" font-family="Helvetica,sans-Serif" font-size="10.00">Aggressor inference</text>
<text text-anchor="middle" x="646.5" y="-393" font-family="Helvetica,sans-Serif" font-size="10.00">Order flow stats</text>
</g>
<!-- CALLBACK&#45;&gt;TRADE_COLL -->
<g id="edge5" class="edge">
<title>CALLBACK&#45;&gt;TRADE_COLL</title>
<path fill="none" stroke="#2c7a7b" stroke-width="2" d="M431,-659.32C431,-591.54 431,-418 431,-418 431,-418 578.47,-418 578.47,-418"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" stroke-width="2" points="578.47,-421.5 588.47,-418 578.47,-414.5 578.47,-421.5"/>
<text text-anchor="middle" x="542.5" y="-469.8" font-family="Helvetica,sans-Serif" font-size="9.00">2a</text>
</g>
<!-- QUOTE_COLL -->
<g id="node7" class="node">
<title>QUOTE_COLL</title>
<path fill="#6ee7b7" stroke="black" d="M688,-614C688,-614 605,-614 605,-614 599,-614 593,-608 593,-602 593,-602 593,-562 593,-562 593,-556 599,-550 605,-550 605,-550 688,-550 688,-550 694,-550 700,-556 700,-562 700,-562 700,-602 700,-602 700,-608 694,-614 688,-614"/>
<text text-anchor="middle" x="646.5" y="-602" font-family="Helvetica,sans-Serif" font-size="10.00">QuoteCollector</text>
<text text-anchor="middle" x="646.5" y="-579" font-family="Helvetica,sans-Serif" font-size="10.00">BBO state cache</text>
<text text-anchor="middle" x="646.5" y="-568" font-family="Helvetica,sans-Serif" font-size="10.00">Spread calculation</text>
<text text-anchor="middle" x="646.5" y="-557" font-family="Helvetica,sans-Serif" font-size="10.00">Emit BboQuote</text>
</g>
<!-- CALLBACK&#45;&gt;QUOTE_COLL -->
<g id="edge6" class="edge">
<title>CALLBACK&#45;&gt;QUOTE_COLL</title>
<path fill="none" stroke="#2c7a7b" stroke-width="2" d="M489,-659.3C489,-628.26 489,-581.25 489,-581.25 489,-581.25 582.74,-581.25 582.74,-581.25"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" stroke-width="2" points="582.74,-584.75 592.74,-581.25 582.74,-577.75 582.74,-584.75"/>
<text text-anchor="middle" x="542.5" y="-628.8" font-family="Helvetica,sans-Serif" font-size="9.00">2b</text>
</g>
<!-- DEPTH_COLL -->
<g id="node8" class="node">
<title>DEPTH_COLL</title>
<path fill="#6ee7b7" stroke="black" d="M696,-532C696,-532 597,-532 597,-532 591,-532 585,-526 585,-520 585,-520 585,-480 585,-480 585,-474 591,-468 597,-468 597,-468 696,-468 696,-468 702,-468 708,-474 708,-480 708,-480 708,-520 708,-520 708,-526 702,-532 696,-532"/>
<text text-anchor="middle" x="646.5" y="-520" font-family="Helvetica,sans-Serif" font-size="10.00">MarketDepthCollector</text>
<text text-anchor="middle" x="646.5" y="-497" font-family="Helvetica,sans-Serif" font-size="10.00">L2 book state</text>
<text text-anchor="middle" x="646.5" y="-486" font-family="Helvetica,sans-Serif" font-size="10.00">Integrity checking</text>
<text text-anchor="middle" x="646.5" y="-475" font-family="Helvetica,sans-Serif" font-size="10.00">Snapshot generation</text>
</g>
<!-- CALLBACK&#45;&gt;DEPTH_COLL -->
<g id="edge7" class="edge">
<title>CALLBACK&#45;&gt;DEPTH_COLL</title>
<path fill="none" stroke="#2c7a7b" stroke-width="2" d="M460,-659.35C460,-607.92 460,-500 460,-500 460,-500 574.92,-500 574.92,-500"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" stroke-width="2" points="574.92,-503.5 584.92,-500 574.92,-496.5 574.92,-503.5"/>
<text text-anchor="middle" x="542.5" y="-526.8" font-family="Helvetica,sans-Serif" font-size="9.00">2c</text>
</g>
<!-- DOMAIN_EVENT -->
<g id="node9" class="node">
<title>DOMAIN_EVENT</title>
<polygon fill="#a7f3d0" stroke="black" points="865,-531.5 776,-531.5 776,-468.5 871,-468.5 871,-525.5 865,-531.5"/>
<polyline fill="none" stroke="black" points="865,-531.5 865,-525.5 "/>
<polyline fill="none" stroke="black" points="871,-525.5 865,-525.5 "/>
<text text-anchor="middle" x="823.5" y="-519.5" font-family="Helvetica,sans-Serif" font-size="10.00">Domain Events:</text>
<text text-anchor="middle" x="823.5" y="-508.5" font-family="Helvetica,sans-Serif" font-size="10.00">• Trade</text>
<text text-anchor="middle" x="823.5" y="-497.5" font-family="Helvetica,sans-Serif" font-size="10.00">• BboQuote</text>
<text text-anchor="middle" x="823.5" y="-486.5" font-family="Helvetica,sans-Serif" font-size="10.00">• LOBSnapshot</text>
<text text-anchor="middle" x="823.5" y="-475.5" font-family="Helvetica,sans-Serif" font-size="10.00">• IntegrityEvent</text>
</g>
<!-- TRADE_COLL&#45;&gt;DOMAIN_EVENT -->
<g id="edge8" class="edge">
<title>TRADE_COLL&#45;&gt;DOMAIN_EVENT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M704.62,-428.67C756.39,-428.67 824,-428.67 824,-428.67 824,-428.67 824,-458.09 824,-458.09"/>
<polygon fill="#4a5568" stroke="#4a5568" points="820.5,-458.09 824,-468.09 827.5,-458.09 820.5,-458.09"/>
</g>
<!-- FSHARP_VAL -->
<g id="node10" class="node">
<title>FSHARP_VAL</title>
<path fill="#81e6d9" stroke="black" d="M866,-341C866,-341 781,-341 781,-341 775,-341 769,-335 769,-329 769,-329 769,-289 769,-289 769,-283 775,-277 781,-277 781,-277 866,-277 866,-277 872,-277 878,-283 878,-289 878,-289 878,-329 878,-329 878,-335 872,-341 866,-341"/>
<text text-anchor="middle" x="823.5" y="-329" font-family="Helvetica,sans-Serif" font-size="10.00">Railway&#45;Oriented</text>
<text text-anchor="middle" x="823.5" y="-318" font-family="Helvetica,sans-Serif" font-size="10.00">Validation</text>
<text text-anchor="middle" x="823.5" y="-295" font-family="Helvetica,sans-Serif" font-size="10.00">Type&#45;safe checks</text>
<text text-anchor="middle" x="823.5" y="-284" font-family="Helvetica,sans-Serif" font-size="10.00">Error accumulation</text>
</g>
<!-- TRADE_COLL&#45;&gt;FSHARP_VAL -->
<g id="edge11" class="edge">
<title>TRADE_COLL&#45;&gt;FSHARP_VAL</title>
<path fill="none" stroke="#2c7a7b" d="M704.74,-407.33C737.14,-407.33 771,-407.33 771,-407.33 771,-407.33 771,-351.2 771,-351.2"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" points="774.5,-351.2 771,-341.2 767.5,-351.2 774.5,-351.2"/>
<text text-anchor="middle" x="747.5" y="-332.8" font-family="Helvetica,sans-Serif" font-size="9.00">3</text>
</g>
<!-- QUOTE_COLL&#45;&gt;DOMAIN_EVENT -->
<g id="edge9" class="edge">
<title>QUOTE_COLL&#45;&gt;DOMAIN_EVENT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M700.24,-592.67C752.48,-592.67 824,-592.67 824,-592.67 824,-592.67 824,-541.63 824,-541.63"/>
<polygon fill="#4a5568" stroke="#4a5568" points="827.5,-541.63 824,-531.63 820.5,-541.63 827.5,-541.63"/>
</g>
<!-- QUOTE_COLL&#45;&gt;FSHARP_VAL -->
<g id="edge12" class="edge">
<title>QUOTE_COLL&#45;&gt;FSHARP_VAL</title>
<path fill="none" stroke="#2c7a7b" d="M700.25,-571.33C735.46,-571.33 775,-571.33 775,-571.33 775,-571.33 775,-351.17 775,-351.17"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" points="778.5,-351.17 775,-341.17 771.5,-351.17 778.5,-351.17"/>
</g>
<!-- DEPTH_COLL&#45;&gt;DOMAIN_EVENT -->
<g id="edge10" class="edge">
<title>DEPTH_COLL&#45;&gt;DOMAIN_EVENT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M708.41,-510.5C708.41,-510.5 765.86,-510.5 765.86,-510.5"/>
<polygon fill="#4a5568" stroke="#4a5568" points="765.86,-514 775.86,-510.5 765.86,-507 765.86,-514"/>
</g>
<!-- DEPTH_COLL&#45;&gt;FSHARP_VAL -->
<g id="edge13" class="edge">
<title>DEPTH_COLL&#45;&gt;FSHARP_VAL</title>
<path fill="none" stroke="#2c7a7b" d="M708.27,-489.5C740.38,-489.5 773,-489.5 773,-489.5 773,-489.5 773,-351.27 773,-351.27"/>
<polygon fill="#2c7a7b" stroke="#2c7a7b" points="776.5,-351.27 773,-341.27 769.5,-351.27 776.5,-351.27"/>
</g>
<!-- VAL_RULES -->
<g id="node11" class="node">
<title>VAL_RULES</title>
<polygon fill="#b2f5ea" stroke="black" points="1101.5,-340.5 1001.5,-340.5 1001.5,-277.5 1107.5,-277.5 1107.5,-334.5 1101.5,-340.5"/>
<polyline fill="none" stroke="black" points="1101.5,-340.5 1101.5,-334.5 "/>
<polyline fill="none" stroke="black" points="1107.5,-334.5 1101.5,-334.5 "/>
<text text-anchor="middle" x="1054.5" y="-328.5" font-family="Helvetica,sans-Serif" font-size="10.00">Validation Rules:</text>
<text text-anchor="middle" x="1054.5" y="-317.5" font-family="Helvetica,sans-Serif" font-size="10.00">• Price &gt; 0</text>
<text text-anchor="middle" x="1054.5" y="-306.5" font-family="Helvetica,sans-Serif" font-size="10.00">• Size &gt; 0</text>
<text text-anchor="middle" x="1054.5" y="-295.5" font-family="Helvetica,sans-Serif" font-size="10.00">• Valid timestamp</text>
<text text-anchor="middle" x="1054.5" y="-284.5" font-family="Helvetica,sans-Serif" font-size="10.00">• Symbol format</text>
</g>
<!-- FSHARP_VAL&#45;&gt;VAL_RULES -->
<g id="edge14" class="edge">
<title>FSHARP_VAL&#45;&gt;VAL_RULES</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M878.24,-319.5C878.24,-319.5 991.34,-319.5 991.34,-319.5"/>
<polygon fill="#4a5568" stroke="#4a5568" points="991.34,-323 1001.34,-319.5 991.34,-316 991.34,-323"/>
</g>
<!-- CHANNEL -->
<g id="node12" class="node">
<title>CHANNEL</title>
<path fill="#c4b5fd" stroke="black" d="M1131,-232C1131,-232 978,-232 978,-232 972,-232 966,-226 966,-220 966,-220 966,-180 966,-180 966,-174 972,-168 978,-168 978,-168 1131,-168 1131,-168 1137,-168 1143,-174 1143,-180 1143,-180 1143,-220 1143,-220 1143,-226 1137,-232 1131,-232"/>
<text text-anchor="middle" x="1054.5" y="-220" font-family="Helvetica,sans-Serif" font-size="10.00">BoundedChannel&lt;MarketEvent&gt;</text>
<text text-anchor="middle" x="1054.5" y="-197" font-family="Helvetica,sans-Serif" font-size="10.00">Capacity: 100,000</text>
<text text-anchor="middle" x="1054.5" y="-186" font-family="Helvetica,sans-Serif" font-size="10.00">DropOldest on full</text>
<text text-anchor="middle" x="1054.5" y="-175" font-family="Helvetica,sans-Serif" font-size="10.00">Async write/read</text>
</g>
<!-- FSHARP_VAL&#45;&gt;CHANNEL -->
<g id="edge15" class="edge">
<title>FSHARP_VAL&#45;&gt;CHANNEL</title>
<path fill="none" stroke="#805ad5" stroke-width="2" d="M878.29,-298.5C924.78,-298.5 984,-298.5 984,-298.5 984,-298.5 984,-242.25 984,-242.25"/>
<polygon fill="#805ad5" stroke="#805ad5" stroke-width="2" points="987.5,-242.25 984,-232.25 980.5,-242.25 987.5,-242.25"/>
<text text-anchor="middle" x="922" y="-253.8" font-family="Helvetica,sans-Serif" font-size="9.00">4</text>
<text text-anchor="middle" x="922" y="-243.8" font-family="Helvetica,sans-Serif" font-size="9.00">async write</text>
</g>
<!-- PIPELINE_READER -->
<g id="node13" class="node">
<title>PIPELINE_READER</title>
<path fill="#c4b5fd" stroke="black" d="M1342,-161.5C1342,-161.5 1241,-161.5 1241,-161.5 1235,-161.5 1229,-155.5 1229,-149.5 1229,-149.5 1229,-120.5 1229,-120.5 1229,-114.5 1235,-108.5 1241,-108.5 1241,-108.5 1342,-108.5 1342,-108.5 1348,-108.5 1354,-114.5 1354,-120.5 1354,-120.5 1354,-149.5 1354,-149.5 1354,-155.5 1348,-161.5 1342,-161.5"/>
<text text-anchor="middle" x="1291.5" y="-149.5" font-family="Helvetica,sans-Serif" font-size="10.00">Pipeline Reader</text>
<text text-anchor="middle" x="1291.5" y="-126.5" font-family="Helvetica,sans-Serif" font-size="10.00">Background consumer</text>
<text text-anchor="middle" x="1291.5" y="-115.5" font-family="Helvetica,sans-Serif" font-size="10.00">Batch processing</text>
</g>
<!-- CHANNEL&#45;&gt;PIPELINE_READER -->
<g id="edge17" class="edge">
<title>CHANNEL&#45;&gt;PIPELINE_READER</title>
<path fill="none" stroke="#805ad5" d="M1143.08,-174C1189.58,-174 1237,-174 1237,-174 1237,-174 1237,-171.66 1237,-171.66"/>
<polygon fill="#805ad5" stroke="#805ad5" points="1240.5,-171.66 1237,-161.66 1233.5,-171.66 1240.5,-171.66"/>
<text text-anchor="middle" x="1186" y="-168.8" font-family="Helvetica,sans-Serif" font-size="9.00">5</text>
<text text-anchor="middle" x="1186" y="-158.8" font-family="Helvetica,sans-Serif" font-size="9.00">async read</text>
</g>
<!-- CHANNEL_STATS -->
<g id="node14" class="node">
<title>CHANNEL_STATS</title>
<polygon fill="#ddd6fe" stroke="black" points="1333.5,-232 1243.5,-232 1243.5,-180 1339.5,-180 1339.5,-226 1333.5,-232"/>
<polyline fill="none" stroke="black" points="1333.5,-232 1333.5,-226 "/>
<polyline fill="none" stroke="black" points="1339.5,-226 1333.5,-226 "/>
<text text-anchor="middle" x="1291.5" y="-220" font-family="Helvetica,sans-Serif" font-size="10.00">Metrics:</text>
<text text-anchor="middle" x="1291.5" y="-209" font-family="Helvetica,sans-Serif" font-size="10.00">• Channel depth</text>
<text text-anchor="middle" x="1291.5" y="-198" font-family="Helvetica,sans-Serif" font-size="10.00">• Events/second</text>
<text text-anchor="middle" x="1291.5" y="-187" font-family="Helvetica,sans-Serif" font-size="10.00">• Drop count</text>
</g>
<!-- CHANNEL&#45;&gt;CHANNEL_STATS -->
<g id="edge16" class="edge">
<title>CHANNEL&#45;&gt;CHANNEL_STATS</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M1143.09,-206C1143.09,-206 1233.21,-206 1233.21,-206"/>
<polygon fill="#4a5568" stroke="#4a5568" points="1233.21,-209.5 1243.21,-206 1233.21,-202.5 1233.21,-209.5"/>
</g>
<!-- COMPOSITE -->
<g id="node15" class="node">
<title>COMPOSITE</title>
<path fill="#ddd6fe" stroke="black" d="M1493,-239.5C1493,-239.5 1403,-239.5 1403,-239.5 1397,-239.5 1391,-233.5 1391,-227.5 1391,-227.5 1391,-198.5 1391,-198.5 1391,-192.5 1397,-186.5 1403,-186.5 1403,-186.5 1493,-186.5 1493,-186.5 1499,-186.5 1505,-192.5 1505,-198.5 1505,-198.5 1505,-227.5 1505,-227.5 1505,-233.5 1499,-239.5 1493,-239.5"/>
<text text-anchor="middle" x="1448" y="-227.5" font-family="Helvetica,sans-Serif" font-size="10.00">CompositePublisher</text>
<text text-anchor="middle" x="1448" y="-204.5" font-family="Helvetica,sans-Serif" font-size="10.00">Fanout to sinks</text>
<text text-anchor="middle" x="1448" y="-193.5" font-family="Helvetica,sans-Serif" font-size="10.00">Parallel dispatch</text>
</g>
<!-- PIPELINE_READER&#45;&gt;COMPOSITE -->
<g id="edge18" class="edge">
<title>PIPELINE_READER&#45;&gt;COMPOSITE</title>
<path fill="none" stroke="#805ad5" stroke-width="2" d="M1347,-161.81C1347,-183.07 1347,-209.25 1347,-209.25 1347,-209.25 1380.71,-209.25 1380.71,-209.25"/>
<polygon fill="#805ad5" stroke="#805ad5" stroke-width="2" points="1380.71,-212.75 1390.71,-209.25 1380.71,-205.75 1380.71,-212.75"/>
</g>
<!-- METRICS -->
<g id="node24" class="node">
<title>METRICS</title>
<path fill="#9ae6b4" stroke="black" d="M1679,-69.5C1679,-69.5 1566,-69.5 1566,-69.5 1560,-69.5 1554,-63.5 1554,-57.5 1554,-57.5 1554,-28.5 1554,-28.5 1554,-22.5 1560,-16.5 1566,-16.5 1566,-16.5 1679,-16.5 1679,-16.5 1685,-16.5 1691,-22.5 1691,-28.5 1691,-28.5 1691,-57.5 1691,-57.5 1691,-63.5 1685,-69.5 1679,-69.5"/>
<text text-anchor="middle" x="1622.5" y="-57.5" font-family="Helvetica,sans-Serif" font-size="10.00">Metrics</text>
<text text-anchor="middle" x="1622.5" y="-34.5" font-family="Helvetica,sans-Serif" font-size="10.00">mdc_published++</text>
<text text-anchor="middle" x="1622.5" y="-23.5" font-family="Helvetica,sans-Serif" font-size="10.00">mdc_events_per_second</text>
</g>
<!-- PIPELINE_READER&#45;&gt;METRICS -->
<g id="edge27" class="edge">
<title>PIPELINE_READER&#45;&gt;METRICS</title>
<path fill="none" stroke="#38a169" stroke-dasharray="5,2" d="M1354.22,-124.5C1433.28,-124.5 1559,-124.5 1559,-124.5 1559,-124.5 1559,-79.69 1559,-79.69"/>
<polygon fill="#38a169" stroke="#38a169" points="1562.5,-79.69 1559,-69.69 1555.5,-79.69 1562.5,-79.69"/>
</g>
<!-- LOCAL_SINK -->
<g id="node16" class="node">
<title>LOCAL_SINK</title>
<path fill="#e9d5ff" stroke="black" d="M1661,-284C1661,-284 1584,-284 1584,-284 1578,-284 1572,-278 1572,-272 1572,-272 1572,-260 1572,-260 1572,-254 1578,-248 1584,-248 1584,-248 1661,-248 1661,-248 1667,-248 1673,-254 1673,-260 1673,-260 1673,-272 1673,-272 1673,-278 1667,-284 1661,-284"/>
<text text-anchor="middle" x="1622.5" y="-269" font-family="Helvetica,sans-Serif" font-size="10.00">PipelinePublisher</text>
<text text-anchor="middle" x="1622.5" y="-258" font-family="Helvetica,sans-Serif" font-size="10.00">(Local Storage)</text>
</g>
<!-- COMPOSITE&#45;&gt;LOCAL_SINK -->
<g id="edge19" class="edge">
<title>COMPOSITE&#45;&gt;LOCAL_SINK</title>
<path fill="none" stroke="#805ad5" d="M1505.3,-234.75C1556.34,-234.75 1623,-234.75 1623,-234.75 1623,-234.75 1623,-237.82 1623,-237.82"/>
<polygon fill="#805ad5" stroke="#805ad5" points="1619.5,-237.82 1623,-247.82 1626.5,-237.82 1619.5,-237.82"/>
<text text-anchor="middle" x="1529.5" y="-257.8" font-family="Helvetica,sans-Serif" font-size="9.00">6a</text>
</g>
<!-- MT_SINK -->
<g id="node17" class="node">
<title>MT_SINK</title>
<path fill="#e9d5ff" stroke="black" d="M1670,-230C1670,-230 1575,-230 1575,-230 1569,-230 1563,-224 1563,-218 1563,-218 1563,-206 1563,-206 1563,-200 1569,-194 1575,-194 1575,-194 1670,-194 1670,-194 1676,-194 1682,-200 1682,-206 1682,-206 1682,-218 1682,-218 1682,-224 1676,-230 1670,-230"/>
<text text-anchor="middle" x="1622.5" y="-215" font-family="Helvetica,sans-Serif" font-size="10.00">MassTransitPublisher</text>
<text text-anchor="middle" x="1622.5" y="-204" font-family="Helvetica,sans-Serif" font-size="10.00">(Message Bus)</text>
</g>
<!-- COMPOSITE&#45;&gt;MT_SINK -->
<g id="edge20" class="edge">
<title>COMPOSITE&#45;&gt;MT_SINK</title>
<path fill="none" stroke="#805ad5" stroke-dasharray="5,2" d="M1505.14,-212C1505.14,-212 1552.84,-212 1552.84,-212"/>
<polygon fill="#805ad5" stroke="#805ad5" points="1552.84,-215.5 1562.84,-212 1552.84,-208.5 1552.84,-215.5"/>
<text text-anchor="middle" x="1529.5" y="-214.8" font-family="Helvetica,sans-Serif" font-size="9.00">6b</text>
</g>
<!-- TRACES -->
<g id="node25" class="node">
<title>TRACES</title>
<path fill="#9ae6b4" stroke="black" d="M1665.5,-140.5C1665.5,-140.5 1579.5,-140.5 1579.5,-140.5 1573.5,-140.5 1567.5,-134.5 1567.5,-128.5 1567.5,-128.5 1567.5,-99.5 1567.5,-99.5 1567.5,-93.5 1573.5,-87.5 1579.5,-87.5 1579.5,-87.5 1665.5,-87.5 1665.5,-87.5 1671.5,-87.5 1677.5,-93.5 1677.5,-99.5 1677.5,-99.5 1677.5,-128.5 1677.5,-128.5 1677.5,-134.5 1671.5,-140.5 1665.5,-140.5"/>
<text text-anchor="middle" x="1622.5" y="-128.5" font-family="Helvetica,sans-Serif" font-size="10.00">OpenTelemetry</text>
<text text-anchor="middle" x="1622.5" y="-105.5" font-family="Helvetica,sans-Serif" font-size="10.00">Span per event</text>
<text text-anchor="middle" x="1622.5" y="-94.5" font-family="Helvetica,sans-Serif" font-size="10.00">Distributed context</text>
</g>
<!-- COMPOSITE&#45;&gt;TRACES -->
<g id="edge28" class="edge">
<title>COMPOSITE&#45;&gt;TRACES</title>
<path fill="none" stroke="#38a169" stroke-dasharray="5,2" d="M1505.3,-190.25C1556.34,-190.25 1623,-190.25 1623,-190.25 1623,-190.25 1623,-150.67 1623,-150.67"/>
<polygon fill="#38a169" stroke="#38a169" points="1626.5,-150.67 1623,-140.67 1619.5,-150.67 1626.5,-150.67"/>
</g>
<!-- WAL -->
<g id="node18" class="node">
<title>WAL</title>
<path fill="#fc8181" stroke="black" d="M1827,-338.5C1827,-338.5 1753,-338.5 1753,-338.5 1747,-338.5 1741,-332.5 1741,-326.5 1741,-326.5 1741,-297.5 1741,-297.5 1741,-291.5 1747,-285.5 1753,-285.5 1753,-285.5 1827,-285.5 1827,-285.5 1833,-285.5 1839,-291.5 1839,-297.5 1839,-297.5 1839,-326.5 1839,-326.5 1839,-332.5 1833,-338.5 1827,-338.5"/>
<text text-anchor="middle" x="1790" y="-326.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Write&#45;Ahead Log</text>
<text text-anchor="middle" x="1790" y="-303.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Journal first</text>
<text text-anchor="middle" x="1790" y="-292.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Crash&#45;safe</text>
</g>
<!-- LOCAL_SINK&#45;&gt;WAL -->
<g id="edge21" class="edge">
<title>LOCAL_SINK&#45;&gt;WAL</title>
<path fill="none" stroke="#c53030" stroke-width="2" d="M1673.21,-266C1722.51,-266 1790,-266 1790,-266 1790,-266 1790,-275.24 1790,-275.24"/>
<polygon fill="#c53030" stroke="#c53030" stroke-width="2" points="1786.5,-275.24 1790,-285.24 1793.5,-275.24 1786.5,-275.24"/>
<text text-anchor="middle" x="1715.5" y="-291.8" font-family="Helvetica,sans-Serif" font-size="9.00">7a</text>
</g>
<!-- MASSTRANSIT -->
<g id="node21" class="node">
<title>MASSTRANSIT</title>
<path fill="#fc8181" stroke="black" d="M1822.5,-239.5C1822.5,-239.5 1757.5,-239.5 1757.5,-239.5 1751.5,-239.5 1745.5,-233.5 1745.5,-227.5 1745.5,-227.5 1745.5,-198.5 1745.5,-198.5 1745.5,-192.5 1751.5,-186.5 1757.5,-186.5 1757.5,-186.5 1822.5,-186.5 1822.5,-186.5 1828.5,-186.5 1834.5,-192.5 1834.5,-198.5 1834.5,-198.5 1834.5,-227.5 1834.5,-227.5 1834.5,-233.5 1828.5,-239.5 1822.5,-239.5"/>
<text text-anchor="middle" x="1790" y="-227.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">MassTransit</text>
<text text-anchor="middle" x="1790" y="-204.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Serialize event</text>
<text text-anchor="middle" x="1790" y="-193.5" font-family="Helvetica,sans-Serif" font-size="10.00" fill="white">Publish to bus</text>
</g>
<!-- MT_SINK&#45;&gt;MASSTRANSIT -->
<g id="edge24" class="edge">
<title>MT_SINK&#45;&gt;MASSTRANSIT</title>
<path fill="none" stroke="#e53e3e" stroke-dasharray="5,2" d="M1682.03,-212C1682.03,-212 1735.41,-212 1735.41,-212"/>
<polygon fill="#e53e3e" stroke="#e53e3e" points="1735.41,-215.5 1745.41,-212 1735.41,-208.5 1735.41,-215.5"/>
<text text-anchor="middle" x="1715.5" y="-214.8" font-family="Helvetica,sans-Serif" font-size="9.00">7b</text>
</g>
<!-- JSONL -->
<g id="node19" class="node">
<title>JSONL</title>
<path fill="#fecaca" stroke="black" d="M1964.5,-338.5C1964.5,-338.5 1904.5,-338.5 1904.5,-338.5 1898.5,-338.5 1892.5,-332.5 1892.5,-326.5 1892.5,-326.5 1892.5,-297.5 1892.5,-297.5 1892.5,-291.5 1898.5,-285.5 1904.5,-285.5 1904.5,-285.5 1964.5,-285.5 1964.5,-285.5 1970.5,-285.5 1976.5,-291.5 1976.5,-297.5 1976.5,-297.5 1976.5,-326.5 1976.5,-326.5 1976.5,-332.5 1970.5,-338.5 1964.5,-338.5"/>
<text text-anchor="middle" x="1934.5" y="-326.5" font-family="Helvetica,sans-Serif" font-size="10.00">JSONL Sink</text>
<text text-anchor="middle" x="1934.5" y="-303.5" font-family="Helvetica,sans-Serif" font-size="10.00">Append event</text>
<text text-anchor="middle" x="1934.5" y="-292.5" font-family="Helvetica,sans-Serif" font-size="10.00">Flush buffer</text>
</g>
<!-- WAL&#45;&gt;JSONL -->
<g id="edge22" class="edge">
<title>WAL&#45;&gt;JSONL</title>
<path fill="none" stroke="#c53030" stroke-width="2" d="M1839.32,-312C1839.32,-312 1882.14,-312 1882.14,-312"/>
<polygon fill="#c53030" stroke="#c53030" stroke-width="2" points="1882.14,-315.5 1892.14,-312 1882.14,-308.5 1882.14,-315.5"/>
</g>
<!-- STORAGE_RESULT -->
<g id="node20" class="node">
<title>STORAGE_RESULT</title>
<polygon fill="#feb2b2" stroke="black" points="2192,-332.5 2029,-332.5 2029,-291.5 2198,-291.5 2198,-326.5 2192,-332.5"/>
<polyline fill="none" stroke="black" points="2192,-332.5 2192,-326.5 "/>
<polyline fill="none" stroke="black" points="2198,-326.5 2192,-326.5 "/>
<text text-anchor="middle" x="2113.5" y="-320.5" font-family="Helvetica,sans-Serif" font-size="10.00">Output:</text>
<text text-anchor="middle" x="2113.5" y="-309.5" font-family="Helvetica,sans-Serif" font-size="10.00">{symbol}_{type}_{date}.jsonl</text>
<text text-anchor="middle" x="2113.5" y="-298.5" font-family="Helvetica,sans-Serif" font-size="10.00">(optionally compressed)</text>
</g>
<!-- JSONL&#45;&gt;STORAGE_RESULT -->
<g id="edge23" class="edge">
<title>JSONL&#45;&gt;STORAGE_RESULT</title>
<path fill="none" stroke="#4a5568" stroke-dasharray="5,2" d="M1976.92,-312C1976.92,-312 2018.83,-312 2018.83,-312"/>
<polygon fill="#4a5568" stroke="#4a5568" points="2018.83,-315.5 2028.83,-312 2018.83,-308.5 2018.83,-315.5"/>
</g>
<!-- EXCHANGE -->
<g id="node22" class="node">
<title>EXCHANGE</title>
<path fill="#fecaca" stroke="black" d="M1980,-234C1980,-234 1889,-234 1889,-234 1883,-234 1877,-228 1877,-222 1877,-222 1877,-204 1877,-204 1877,-198 1883,-192 1889,-192 1889,-192 1980,-192 1980,-192 1986,-192 1992,-198 1992,-204 1992,-204 1992,-222 1992,-222 1992,-228 1986,-234 1980,-234"/>
<text text-anchor="middle" x="1934.5" y="-222" font-family="Helvetica,sans-Serif" font-size="10.00">RabbitMQ Exchange</text>
<text text-anchor="middle" x="1934.5" y="-199" font-family="Helvetica,sans-Serif" font-size="10.00">Fanout to queues</text>
</g>
<!-- MASSTRANSIT&#45;&gt;EXCHANGE -->
<g id="edge25" class="edge">
<title>MASSTRANSIT&#45;&gt;EXCHANGE</title>
<path fill="none" stroke="#e53e3e" stroke-dasharray="5,2" d="M1834.53,-213C1834.53,-213 1866.8,-213 1866.8,-213"/>
<polygon fill="#e53e3e" stroke="#e53e3e" points="1866.8,-216.5 1876.8,-213 1866.8,-209.5 1866.8,-216.5"/>
</g>
<!-- CONSUMERS -->
<g id="node23" class="node">
<title>CONSUMERS</title>
<path fill="#fecaca" stroke="black" d="M2141,-239.5C2141,-239.5 2086,-239.5 2086,-239.5 2080,-239.5 2074,-233.5 2074,-227.5 2074,-227.5 2074,-198.5 2074,-198.5 2074,-192.5 2080,-186.5 2086,-186.5 2086,-186.5 2141,-186.5 2141,-186.5 2147,-186.5 2153,-192.5 2153,-198.5 2153,-198.5 2153,-227.5 2153,-227.5 2153,-233.5 2147,-239.5 2141,-239.5"/>
<text text-anchor="middle" x="2113.5" y="-227.5" font-family="Helvetica,sans-Serif" font-size="10.00">Microservice</text>
<text text-anchor="middle" x="2113.5" y="-216.5" font-family="Helvetica,sans-Serif" font-size="10.00">Consumers</text>
<text text-anchor="middle" x="2113.5" y="-193.5" font-family="Helvetica,sans-Serif" font-size="10.00">:5001&#45;:5005</text>
</g>
<!-- EXCHANGE&#45;&gt;CONSUMERS -->
<g id="edge26" class="edge">
<title>EXCHANGE&#45;&gt;CONSUMERS</title>
<path fill="none" stroke="#e53e3e" stroke-dasharray="5,2" d="M1992.12,-213C1992.12,-213 2063.82,-213 2063.82,-213"/>
<polygon fill="#e53e3e" stroke="#e53e3e" points="2063.82,-216.5 2073.82,-213 2063.82,-209.5 2063.82,-216.5"/>
</g>
<!-- STATUS -->
<g id="node26" class="node">
<title>STATUS</title>
<path fill="#9ae6b4" stroke="black" d="M1828,-69.5C1828,-69.5 1752,-69.5 1752,-69.5 1746,-69.5 1740,-63.5 1740,-57.5 1740,-57.5 1740,-28.5 1740,-28.5 1740,-22.5 1746,-16.5 1752,-16.5 1752,-16.5 1828,-16.5 1828,-16.5 1834,-16.5 1840,-22.5 1840,-28.5 1840,-28.5 1840,-57.5 1840,-57.5 1840,-63.5 1834,-69.5 1828,-69.5"/>
<text text-anchor="middle" x="1790" y="-57.5" font-family="Helvetica,sans-Serif" font-size="10.00">StatusHttpServer</text>
<text text-anchor="middle" x="1790" y="-34.5" font-family="Helvetica,sans-Serif" font-size="10.00">/metrics, /status</text>
<text text-anchor="middle" x="1790" y="-23.5" font-family="Helvetica,sans-Serif" font-size="10.00">/health</text>
</g>
<!-- METRICS&#45;&gt;STATUS -->
<g id="edge29" class="edge">
<title>METRICS&#45;&gt;STATUS</title>
<path fill="none" stroke="#38a169" stroke-dasharray="5,2" d="M1691.11,-43C1691.11,-43 1729.95,-43 1729.95,-43"/>
<polygon fill="#38a169" stroke="#38a169" points="1729.95,-46.5 1739.95,-43 1729.95,-39.5 1729.95,-46.5"/>
</g>
<!-- LEG -->
<g id="node27" class="node">
<title>LEG</title>
<path fill="lightgrey" stroke="transparent" d="M191,-867C191,-867 28,-867 28,-867 22,-867 16,-861 16,-855 16,-855 16,-815 16,-815 16,-809 22,-803 28,-803 28,-803 191,-803 191,-803 197,-803 203,-809 203,-815 203,-815 203,-855 203,-855 203,-861 197,-867 191,-867"/>
<text text-anchor="middle" x="109.5" y="-855" font-family="Helvetica,sans-Serif" font-size="10.00">━━ Synchronous flow</text>
<text text-anchor="middle" x="109.5" y="-844" font-family="Helvetica,sans-Serif" font-size="10.00">─ ─ Async/Optional flow</text>
<text text-anchor="middle" x="109.5" y="-833" font-family="Helvetica,sans-Serif" font-size="10.00">→ Data transformation point</text>
<text text-anchor="middle" x="109.5" y="-810" font-family="Helvetica,sans-Serif" font-size="10.00">Numbers indicate processing order</text>
</g>
</g>
</svg>
