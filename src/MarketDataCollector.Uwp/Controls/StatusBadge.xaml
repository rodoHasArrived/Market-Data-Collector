<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="MarketDataCollector.Uwp.Controls.StatusBadge"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MarketDataCollector.Uwp.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Border x:Name="BadgeBorder"
            CornerRadius="4"
            Padding="8,4"
            AutomationProperties.Name="{x:Bind Text, Mode=OneWay}">
        <StackPanel Orientation="Horizontal" Spacing="6">
            <!-- Pulsing indicator (for live/active states) -->
            <Grid x:Name="PulseContainer"
                  Width="8" Height="8"
                  Visibility="{x:Bind PulseVisibility, Mode=OneWay}">
                <Ellipse x:Name="PulseRing"
                         Width="8" Height="8"
                         Fill="White"
                         Opacity="0.4">
                    <Ellipse.RenderTransform>
                        <ScaleTransform x:Name="PulseScale" CenterX="4" CenterY="4" />
                    </Ellipse.RenderTransform>
                </Ellipse>
                <Ellipse Width="6" Height="6"
                         Fill="White"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center" />
            </Grid>

            <!-- Optional Icon -->
            <FontIcon x:Name="BadgeIcon"
                      Glyph="{x:Bind IconGlyph, Mode=OneWay}"
                      FontSize="12"
                      Foreground="White"
                      Visibility="{x:Bind IconVisibility, Mode=OneWay}" />

            <!-- Badge Text -->
            <TextBlock x:Name="BadgeText"
                       Text="{x:Bind Text, Mode=OneWay}"
                       FontSize="12"
                       FontWeight="SemiBold"
                       Foreground="White" />

            <!-- Optional Count -->
            <TextBlock x:Name="CountText"
                       Text="{x:Bind CountDisplay, Mode=OneWay}"
                       FontSize="11"
                       Foreground="White"
                       Opacity="0.9"
                       Visibility="{x:Bind CountVisibility, Mode=OneWay}" />
        </StackPanel>
    </Border>
</UserControl>
