<Page x:Class="MarketDataCollector.Wpf.Views.ProviderPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      mc:Ignorable="d"
      d:DesignHeight="900" d:DesignWidth="1400"
      Background="{DynamicResource ConsoleBackgroundDarkBrush}">

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="24">
        <StackPanel MaxWidth="1200">

            <!-- Header -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                <TextBlock Text="&#xE8B9;" FontFamily="{StaticResource SymbolThemeFontFamily}"
                           FontSize="28" Foreground="{StaticResource InfoColorBrush}"
                           VerticalAlignment="Center" />
                <TextBlock Text="Data Providers" Style="{StaticResource PageTitleStyle}"
                           Margin="12,0,0,0" VerticalAlignment="Center" />
            </StackPanel>
            <TextBlock Text="Configure and manage market data providers for real-time and historical data."
                       Style="{StaticResource PageSubtitleStyle}" Margin="0,0,0,24" />

            <!-- ================================================ -->
            <!-- Streaming Providers Card                         -->
            <!-- ================================================ -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,24">
                <StackPanel>
                    <TextBlock Text="Streaming Providers" Style="{StaticResource CardHeaderStyle}" Margin="0,0,0,16" />

                    <!-- Interactive Brokers -->
                    <Border Background="{StaticResource ConsoleBackgroundMediumBrush}"
                            CornerRadius="8" Padding="16" Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <Ellipse Width="10" Height="10"
                                         Fill="{StaticResource ConsoleTextMutedBrush}"
                                         VerticalAlignment="Center" Margin="0,0,12,0" />
                            </StackPanel>

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Interactive Brokers" FontWeight="SemiBold" FontSize="14"
                                           Foreground="{StaticResource ConsoleTextPrimaryBrush}" />
                                <TextBlock Text="Full Level 2 depth and tick-by-tick trades. Requires TWS/Gateway."
                                           Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                           FontSize="12" TextWrapping="Wrap" Margin="0,4,0,0" />
                            </StackPanel>

                            <Button Grid.Column="2" Content="Configure"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="ConfigureProvider_Click"
                                    VerticalAlignment="Center" Margin="12,0,0,0" />
                        </Grid>
                    </Border>

                    <!-- Alpaca -->
                    <Border Background="{StaticResource ConsoleBackgroundMediumBrush}"
                            CornerRadius="8" Padding="16" Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <Ellipse Width="10" Height="10"
                                         Fill="{StaticResource ConsoleTextMutedBrush}"
                                         VerticalAlignment="Center" Margin="0,0,12,0" />
                            </StackPanel>

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Alpaca" FontWeight="SemiBold" FontSize="14"
                                           Foreground="{StaticResource ConsoleTextPrimaryBrush}" />
                                <TextBlock Text="Real-time trades and quotes via WebSocket. Free IEX tier available."
                                           Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                           FontSize="12" TextWrapping="Wrap" Margin="0,4,0,0" />
                            </StackPanel>

                            <Button Grid.Column="2" Content="Configure"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="ConfigureProvider_Click"
                                    VerticalAlignment="Center" Margin="12,0,0,0" />
                        </Grid>
                    </Border>

                    <!-- Polygon -->
                    <Border Background="{StaticResource ConsoleBackgroundMediumBrush}"
                            CornerRadius="8" Padding="16" Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <Ellipse Width="10" Height="10"
                                         Fill="{StaticResource ConsoleTextMutedBrush}"
                                         VerticalAlignment="Center" Margin="0,0,12,0" />
                            </StackPanel>

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="Polygon" FontWeight="SemiBold" FontSize="14"
                                           Foreground="{StaticResource ConsoleTextPrimaryBrush}" />
                                <TextBlock Text="Real-time data with circuit breaker and retry patterns."
                                           Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                           FontSize="12" TextWrapping="Wrap" Margin="0,4,0,0" />
                            </StackPanel>

                            <Button Grid.Column="2" Content="Configure"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="ConfigureProvider_Click"
                                    VerticalAlignment="Center" Margin="12,0,0,0" />
                        </Grid>
                    </Border>

                    <!-- StockSharp -->
                    <Border Background="{StaticResource ConsoleBackgroundMediumBrush}"
                            CornerRadius="8" Padding="16" Margin="0,0,0,12">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <Ellipse Width="10" Height="10"
                                         Fill="{StaticResource ConsoleTextMutedBrush}"
                                         VerticalAlignment="Center" Margin="0,0,12,0" />
                            </StackPanel>

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="StockSharp" FontWeight="SemiBold" FontSize="14"
                                           Foreground="{StaticResource ConsoleTextPrimaryBrush}" />
                                <TextBlock Text="Access to 90+ data sources through unified interface."
                                           Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                           FontSize="12" TextWrapping="Wrap" Margin="0,4,0,0" />
                            </StackPanel>

                            <Button Grid.Column="2" Content="Configure"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="ConfigureProvider_Click"
                                    VerticalAlignment="Center" Margin="12,0,0,0" />
                        </Grid>
                    </Border>

                    <!-- NYSE -->
                    <Border Background="{StaticResource ConsoleBackgroundMediumBrush}"
                            CornerRadius="8" Padding="16">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                <Ellipse Width="10" Height="10"
                                         Fill="{StaticResource ConsoleTextMutedBrush}"
                                         VerticalAlignment="Center" Margin="0,0,12,0" />
                            </StackPanel>

                            <StackPanel Grid.Column="1">
                                <TextBlock Text="NYSE" FontWeight="SemiBold" FontSize="14"
                                           Foreground="{StaticResource ConsoleTextPrimaryBrush}" />
                                <TextBlock Text="Hybrid streaming and historical data source."
                                           Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                           FontSize="12" TextWrapping="Wrap" Margin="0,4,0,0" />
                            </StackPanel>

                            <Button Grid.Column="2" Content="Configure"
                                    Style="{StaticResource SecondaryButtonStyle}"
                                    Click="ConfigureProvider_Click"
                                    VerticalAlignment="Center" Margin="12,0,0,0" />
                        </Grid>
                    </Border>
                </StackPanel>
            </Border>

            <!-- ================================================ -->
            <!-- Historical Providers Card                        -->
            <!-- ================================================ -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,24">
                <StackPanel>
                    <TextBlock Text="Historical Providers" Style="{StaticResource CardHeaderStyle}" Margin="0,0,0,16" />

                    <!-- Column Headers -->
                    <Border Background="{StaticResource ConsoleBackgroundMediumBrush}"
                            CornerRadius="4" Padding="12,8" Margin="0,0,0,4">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70" />
                                <ColumnDefinition Width="160" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="140" />
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" Text="Priority" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}" FontSize="12" />
                            <TextBlock Grid.Column="1" Text="Provider" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}" FontSize="12" />
                            <TextBlock Grid.Column="2" Text="Data Types" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}" FontSize="12" />
                            <TextBlock Grid.Column="3" Text="Rate Limit" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}" FontSize="12" />
                        </Grid>
                    </Border>

                    <!-- Alpaca (Priority 1) -->
                    <Border Padding="12,10" BorderThickness="0,0,0,1"
                            BorderBrush="{StaticResource ConsoleBorderBrush}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70" />
                                <ColumnDefinition Width="160" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="140" />
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Background="{StaticResource ConsoleAccentBlueAlpha10Brush}"
                                    CornerRadius="4" Padding="8,2" HorizontalAlignment="Left">
                                <TextBlock Text="1" FontWeight="Bold"
                                           Foreground="{StaticResource InfoColorBrush}"
                                           HorizontalAlignment="Center" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Alpaca" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextPrimaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="2" Text="Bars, trades, quotes"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="3" Text="200/min"
                                       Foreground="{StaticResource ConsoleTextMutedBrush}"
                                       VerticalAlignment="Center" />
                        </Grid>
                    </Border>

                    <!-- Polygon (Priority 2) -->
                    <Border Padding="12,10" BorderThickness="0,0,0,1"
                            BorderBrush="{StaticResource ConsoleBorderBrush}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70" />
                                <ColumnDefinition Width="160" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="140" />
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Background="{StaticResource ConsoleAccentBlueAlpha10Brush}"
                                    CornerRadius="4" Padding="8,2" HorizontalAlignment="Left">
                                <TextBlock Text="2" FontWeight="Bold"
                                           Foreground="{StaticResource InfoColorBrush}"
                                           HorizontalAlignment="Center" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Polygon" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextPrimaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="2" Text="Full data types"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="3" Text="Varies"
                                       Foreground="{StaticResource ConsoleTextMutedBrush}"
                                       VerticalAlignment="Center" />
                        </Grid>
                    </Border>

                    <!-- Tiingo (Priority 3) -->
                    <Border Padding="12,10" BorderThickness="0,0,0,1"
                            BorderBrush="{StaticResource ConsoleBorderBrush}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70" />
                                <ColumnDefinition Width="160" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="140" />
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Background="{StaticResource ConsoleAccentBlueAlpha10Brush}"
                                    CornerRadius="4" Padding="8,2" HorizontalAlignment="Left">
                                <TextBlock Text="3" FontWeight="Bold"
                                           Foreground="{StaticResource InfoColorBrush}"
                                           HorizontalAlignment="Center" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Tiingo" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextPrimaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="2" Text="Daily bars"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="3" Text="500/hour"
                                       Foreground="{StaticResource ConsoleTextMutedBrush}"
                                       VerticalAlignment="Center" />
                        </Grid>
                    </Border>

                    <!-- Yahoo Finance (Priority 4) -->
                    <Border Padding="12,10" BorderThickness="0,0,0,1"
                            BorderBrush="{StaticResource ConsoleBorderBrush}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70" />
                                <ColumnDefinition Width="160" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="140" />
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Background="{StaticResource ConsoleAccentBlueAlpha10Brush}"
                                    CornerRadius="4" Padding="8,2" HorizontalAlignment="Left">
                                <TextBlock Text="4" FontWeight="Bold"
                                           Foreground="{StaticResource InfoColorBrush}"
                                           HorizontalAlignment="Center" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Yahoo Finance" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextPrimaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="2" Text="Daily bars"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="3" Text="Unofficial"
                                       Foreground="{StaticResource ConsoleTextMutedBrush}"
                                       VerticalAlignment="Center" />
                        </Grid>
                    </Border>

                    <!-- Stooq (Priority 5) -->
                    <Border Padding="12,10" BorderThickness="0,0,0,1"
                            BorderBrush="{StaticResource ConsoleBorderBrush}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70" />
                                <ColumnDefinition Width="160" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="140" />
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Background="{StaticResource ConsoleAccentBlueAlpha10Brush}"
                                    CornerRadius="4" Padding="8,2" HorizontalAlignment="Left">
                                <TextBlock Text="5" FontWeight="Bold"
                                           Foreground="{StaticResource InfoColorBrush}"
                                           HorizontalAlignment="Center" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="Stooq" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextPrimaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="2" Text="Daily bars"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="3" Text="Low"
                                       Foreground="{StaticResource ConsoleTextMutedBrush}"
                                       VerticalAlignment="Center" />
                        </Grid>
                    </Border>

                    <!-- StockSharp (Priority 6) -->
                    <Border Padding="12,10">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="70" />
                                <ColumnDefinition Width="160" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="140" />
                            </Grid.ColumnDefinitions>

                            <Border Grid.Column="0" Background="{StaticResource ConsoleAccentBlueAlpha10Brush}"
                                    CornerRadius="4" Padding="8,2" HorizontalAlignment="Left">
                                <TextBlock Text="6" FontWeight="Bold"
                                           Foreground="{StaticResource InfoColorBrush}"
                                           HorizontalAlignment="Center" />
                            </Border>
                            <TextBlock Grid.Column="1" Text="StockSharp" FontWeight="SemiBold"
                                       Foreground="{StaticResource ConsoleTextPrimaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="2" Text="Various"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                       VerticalAlignment="Center" />
                            <TextBlock Grid.Column="3" Text="Varies"
                                       Foreground="{StaticResource ConsoleTextMutedBrush}"
                                       VerticalAlignment="Center" />
                        </Grid>
                    </Border>
                </StackPanel>
            </Border>

            <!-- ================================================ -->
            <!-- Provider Configuration Card                      -->
            <!-- ================================================ -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,24">
                <StackPanel>
                    <TextBlock Text="Provider Configuration" Style="{StaticResource CardHeaderStyle}" Margin="0,0,0,16" />

                    <Grid Margin="0,0,0,16">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <!-- Active Streaming Provider -->
                        <StackPanel Grid.Column="0" Margin="0,0,12,0">
                            <TextBlock Text="Active Streaming Provider"
                                       Foreground="{StaticResource ConsoleTextSecondaryBrush}"
                                       FontSize="12" Margin="0,0,0,8" />
                            <ComboBox x:Name="ActiveProviderCombo" SelectedIndex="0">
                                <ComboBoxItem Content="Interactive Brokers" Tag="IB" />
                                <ComboBoxItem Content="Alpaca" Tag="Alpaca" />
                                <ComboBoxItem Content="Polygon" Tag="Polygon" />
                                <ComboBoxItem Content="StockSharp" Tag="StockSharp" />
                                <ComboBoxItem Content="NYSE" Tag="NYSE" />
                            </ComboBox>
                        </StackPanel>

                        <!-- Failover Enabled -->
                        <StackPanel Grid.Column="1" Margin="12,0,0,0" VerticalAlignment="Bottom">
                            <CheckBox Content="Failover Enabled"
                                      Foreground="{StaticResource ConsoleTextPrimaryBrush}" />
                        </StackPanel>
                    </Grid>

                    <Button Content="Test All Connections"
                            Style="{StaticResource PrimaryButtonStyle}"
                            Click="TestAllConnections_Click"
                            HorizontalAlignment="Left" />
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</Page>
